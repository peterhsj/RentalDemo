import{h as c,r as W,y as M,a5 as a,ac as E,a7 as p,n as e,ad as t,v as m,V as A,a2 as q,Z as C,u as R,a6 as k,af as F,H,a0 as X,P as Q,Q as Z}from"./vue-core-BOLQPpeJ.js";import{_ as G,a as J,p as K}from"./PromptDialog-D32_C5pB.js";import{_ as Y}from"./index-BZb2OCg6.js";import"./vuetify-B9nufYXq.js";import"./date-DE_Uv9Lq.js";const ee={id:"search",class:"h-100"},te={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},ae={class:"d-flex ga-2 flex-wrap justify-end w-100"},L={__name:"SearchForm",props:{activeTab:{type:Object,default:()=>({})},formData:{type:Object,default:()=>({})}},emits:["update:formData","closeForm","sendForm"],setup(h,{expose:b,emit:s}){const o=h,_=s,d=c(),r=W(o.formData),l=c("https://picsum.photos/id/190/120/40"),f=c({phoneRules:[n=>!!n||"手機號碼為必填",n=>/^\d{10}$/.test(n)||"請輸入有效的手機號碼"],carRules:[n=>!!n||"車號為必填"],captchaRules:[n=>!!n||"驗證碼為必填"]});M(()=>o.formData,n=>{Object.assign(r,n)},{deep:!0}),M(()=>r,n=>{_("update:formData",n)},{deep:!0});const v=()=>{l.value=`https://picsum.photos/id/${Math.floor(Math.random()*1e3)}/120/40`},g=async()=>{const{valid:n}=await d.value.validate();n&&_("sendForm")},x=()=>{_("closeForm")};return b({initForm:()=>{d.value.reset()}}),(n,i)=>{const U=a("v-icon"),B=a("v-avatar"),T=a("v-text-field"),w=a("v-col"),N=a("v-img"),S=a("v-row"),$=a("v-btn"),P=a("v-container"),V=a("v-form"),I=a("v-card");return p(),E("div",ee,[e(I,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[m("div",{class:"px-4 py-3 d-flex align-center bg-orange-lighten-5 rental__header",onClick:x},[e(U,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(B,{image:o.activeTab.icon,size:"40"},null,8,["image"]),m("span",te,A(o.activeTab.title),1)]),e(V,{ref_key:"parkingFormRef",ref:d,class:"h-100",onSubmit:q(g,["prevent"])},{default:t(()=>[e(P,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(S,{dense:"",class:"flex-0-1"},{default:t(()=>[e(w,{cols:"12",md:"6"},{default:t(()=>[e(T,{modelValue:r.phoneNumber,"onUpdate:modelValue":i[0]||(i[0]=u=>r.phoneNumber=u),placeholder:"請輸入登記手機號碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:f.value.phoneRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(w,{cols:"12",md:"6"},{default:t(()=>[e(T,{modelValue:r.carNumber,"onUpdate:modelValue":i[1]||(i[1]=u=>r.carNumber=u),placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:f.value.carRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(w,{cols:"12",class:"py-0"},{default:t(()=>[...i[3]||(i[3]=[m("p",{class:"text-subtitle-1 font-weight-bold"},"驗證碼",-1)])]),_:1}),e(w,{cols:"12",md:"6"},{default:t(()=>[e(T,{modelValue:r.captcha,"onUpdate:modelValue":i[2]||(i[2]=u=>r.captcha=u),placeholder:"請輸入驗證碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:f.value.captchaRules,required:""},{append:t(()=>[e(N,{color:"surface-variant",height:"40",width:"120",src:l.value,cover:"",alt:"captcha",onClick:v},null,8,["src"])]),_:1},8,["modelValue","rules"])]),_:1}),e(w,{cols:"12"},{default:t(()=>[...i[4]||(i[4]=[m("p",{class:"text-subtitle-2 text-red-darken-1"},[C(" 注意："),m("br"),C(" 更換車號請重新操作，入場當日無法更換登記車號。 ")],-1)])]),_:1})]),_:1}),e(S,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(w,{cols:"12",class:"mt-4"},{default:t(()=>[m("div",ae,[e($,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[C(A(o.activeTab.value==="parking"?"登記":"查詢"),1)]),_:1}),e($,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:x},{default:t(()=>[...i[5]||(i[5]=[C(" 離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}},oe={id:"parkingInfo",class:"h-100"},ne={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},le={__name:"ParkingInfo",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(h,{emit:b}){const s="https://peterhsj.github.io/RentalDemo",o=h,_=b,d=()=>{_("closeForm")};return(r,l)=>{const f=a("v-icon"),v=a("v-avatar"),g=a("v-col"),x=a("v-row"),y=a("v-container"),n=a("v-card");return p(),E("div",oe,[e(n,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[m("div",{class:"px-4 py-3 d-flex align-center bg-orange-lighten-5 rental__header",onClick:d},[e(f,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(v,{image:`${R(s)}${o.activeTab.icon}`,size:"40"},null,8,["image"]),m("span",ne,A(o.activeTab.title),1)]),e(y,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(x,{dense:"",class:"flex-0-1"},{default:t(()=>[e(g,{cols:"12",md:"6"},{default:t(()=>[...l[0]||(l[0]=[C(" ParkingInfo ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])}}},se={class:"d-flex flex-column align-center justify-center"},re={class:"my-4"},ce=["innerHTML"],ie={class:"d-flex ga-2 flex-wrap justify-center w-100"},ue={__name:"InfoView",props:{info:{type:String,default:""},infoStatus:{type:String,default:"success"}},emits:["infoClose","reWrite"],setup(h,{emit:b}){const s="https://peterhsj.github.io/RentalDemo",o=b,_=()=>{o("infoClose")},d=()=>{o("reWrite")};return(r,l)=>{const f=a("v-img"),v=a("v-btn"),g=a("v-col"),x=a("v-row"),y=a("v-container"),n=a("v-card");return p(),k(y,{class:"rental rental__wrapper flex-grow-1"},{default:t(()=>[e(n,{variant:"outlined",class:"mb-5 pt-5 d-flex flex-column justify-space-between rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[m("div",se,[m("span",re,[e(f,{height:"100%",width:"120px",src:h.infoStatus==="success"?`${R(s)}/images/check.svg`:`${R(s)}/images/warning.svg`,cover:"",alt:"icon image"},null,8,["src"])]),m("div",{class:"d-flex flex-column align-center justify-center pa-6",innerHTML:h.info},null,8,ce)]),e(y,{class:"py-2"},{default:t(()=>[e(x,{"no-gutters":""},{default:t(()=>[e(g,{cols:"12"},{default:t(()=>[m("div",ie,[h.infoStatus!=="error"?(p(),k(v,{key:0,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:_},{default:t(()=>[...l[0]||(l[0]=[C(" 離開 ",-1)])]),_:1})):F("",!0),h.infoStatus==="error"?(p(),k(v,{key:1,color:"orange-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:d},{default:t(()=>[...l[1]||(l[1]=[C(" 重新輸入 ",-1)])]),_:1})):F("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},de={BASE_URL:"/RentalDemo/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_DOMAIN:"https://peterhsj.github.io/RentalDemo",VITE_BASE_URL:"/"},me={id:"parkingView",class:"d-flex flex-column bg-grey-lighten-4 h-100"},fe={__name:"ParkingView",setup(h){const b="https://peterhsj.github.io/RentalDemo";console.log("BaseUrl:",b),console.log("所有環境變數:",de);const s=c({}),o=c(!1),_=c(!1),d=c(),r=c({phoneNumber:"",carNumber:"",captcha:""}),l=c(!1),f=c(""),v=c(""),g=c(!1),x=c(""),y=c(""),n=c(!1),i=I=>{s.value=I,o.value=!0},U=async()=>{console.log("提交表單",r.value),o.value=!1,l.value=!0,v.value="success",f.value=`<p class="text-h4 text-grey-darken-1 font-weight-bold my-2">
      已完成登記
    </p>
    <p class="rental__text--h45 text-grey-darken-1 font-weight-bold mt-3">
      車號
    </p>
    <p class="text-h5 text-amber-darken-3 font-weight-bold my-0">
      AAX-6895
    </p>
    <p class="rental__text--h45 text-grey-darken-1 font-weight-bold mt-4">
      停放日期
    </p>
    <p class="text-h5 text-amber-darken-3 font-weight-bold my-0">
      2025-10-09 ~ 2025-10-10
    </p>`,d.value.initForm()},B=()=>{s.value={},l.value=!0,v.value="success",f.value=`<p class="text-h4 text-grey-darken-1 font-weight-bold my-2">
      已完成登記
    </p>
    <p class="rental__text--h45 text-grey-darken-1 font-weight-bold mt-3">
      車號
    </p>
    <p class="text-h5 text-amber-darken-3 font-weight-bold my-0">
      AAX-6895
    </p>
    <p class="rental__text--h45 text-grey-darken-1 font-weight-bold mt-4">
      停放日期
    </p>
    <p class="text-h5 text-amber-darken-3 font-weight-bold my-0">
      2025-10-09 ~ 2025-10-10
    </p>`},T=()=>{s.value={},d.value.initForm(),o.value=!1},w=()=>{s.value={},o.value=!1},N=()=>{l.value=!1,o.value=!0},S=()=>{l.value=!1,o.value=!1,s.value={},r.value={phoneNumber:"",carNumber:"",captcha:""}},$=()=>{g.value=!1,l.value=!0,o.value=!1,v.value="success",d.value.initForm()},P=()=>{g.value=!1},V=()=>{_.value=window.innerWidth<=960};return H(()=>{V(),window.addEventListener("resize",V)}),X(()=>{window.removeEventListener("resize",V)}),(I,u)=>{const O=a("v-img"),z=a("v-card"),j=a("v-container");return p(),E("div",me,[Q(e(j,{class:"pb-1 rental rental__wrapper"},{default:t(()=>[e(z,{variant:"elevated",elevation:"4",class:"pa-2"},{default:t(()=>[e(O,{color:"surface-variant",height:"200",width:"100%",src:`${R(b)}/images/hotel_01.png`,cover:"",alt:"Parking Image"},{default:t(()=>[...u[3]||(u[3]=[m("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},"住宿車輛登記",-1)])]),_:1},8,["src"])]),_:1}),!o.value&&!l.value?(p(),k(J,{key:0,tabList:R(K),onSetActiveTab:i},null,8,["tabList"])):F("",!0)]),_:1},512),[[Z,(!_.value||!o.value)&&!l.value]]),o.value&&s.value.value==="parking"?(p(),k(j,{key:0,id:"parking",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(L,{ref_key:"searchFormRef",ref:d,formData:r.value,"onUpdate:formData":u[0]||(u[0]=D=>r.value=D),activeTab:s.value,onCloseForm:T,onSendForm:U},null,8,["formData","activeTab"])]),_:1})):F("",!0),o.value&&s.value.value==="search"?(p(),k(j,{key:1,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(L,{ref_key:"searchFormRef",ref:d,activeTab:s.value,formData:r.value,"onUpdate:formData":u[1]||(u[1]=D=>r.value=D),onCloseForm:T,onSendForm:B},null,8,["activeTab","formData"])]),_:1})):F("",!0),o.value&&s.value.value==="parkingInfo"?(p(),k(j,{key:2,id:"parkingInfo",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(le,{activeTab:s.value,onCloseForm:w},null,8,["activeTab"])]),_:1})):F("",!0),l.value?(p(),k(ue,{key:3,infoStatus:v.value,info:f.value,onInfoClose:S,onReWrite:N},null,8,["infoStatus","info"])):F("",!0),e(G,{modelValue:g.value,"onUpdate:modelValue":u[2]||(u[2]=D=>g.value=D),message:y.value,messageTitle:x.value,isConfirmBtn:n.value,onPromptConfirm:$,onOnClose:P},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},be=Y(fe,[["__scopeId","data-v-87c38a3a"]]);export{be as default};
