import{h as r,a5 as n,ac as M,a7 as h,n as e,ad as t,v as d,u as P,V as y,a6 as R,af as L,a2 as W,Z as D,F as G,ae as K,H as le,a0 as se,P as ne,Q as oe,ah as re}from"./vue-core-CsbKmrRr.js";import{_ as ue,c as de}from"./TabList-C060IOAN.js";import{a as Y}from"./index-BFZgDbVB.js";import{f as O,_ as ie,C as ce}from"./ChangePassword-ByU1NHH4.js";import{_ as X}from"./PromptDialog-TYGxE2y4.js";import{i as ee,e as te}from"./date-DE_Uv9Lq.js";import{_ as ve}from"./index-X6-KuZg2.js";import"./vuetify-CHkSyw28.js";const fe={id:"checkin",class:"h-100"},me={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},_e={class:"d-flex flex-wrap justify-end w-100"},pe={class:"d-flex justify-space-between w-100"},ge={class:"mt-3 d-flex flex-wrap justify-end w-100"},he={__name:"CheckinForm",props:{activeTab:{type:Object,default:()=>({})},userID:{type:Number,default:""}},emits:["closeForm"],setup(Z,{emit:A}){const $=Z,g=A,_="https://peterhsj.github.io/RentalDemo",c=r(!1),x=r(""),b=r(""),k=r(!1),U=r(!1),u=r({license_plate:"",reserve_start_date:"",reserve_end_date:"",note:""}),B=r(null),C=r(),T=r({carRules:[l=>!!l||"車號為必填",l=>/^[A-Z0-9]+-[A-Z0-9]+$/.test(l)||"請輸入有效的車號 ( 需包含 - 符號 )"],startDateRule:[l=>!!l||"請選擇起始日期",l=>{if(!l||!u.value.reserve_end_date)return!0;const a=new Date(l),s=new Date(u.value.reserve_end_date);return!a||!s?!0:!te(a,s)||"起始日期不能晚於結束日期"}],endDateRule:[l=>!!l||"請選擇結束日期",l=>{if(!l||!u.value.reserve_start_date)return!0;const a=new Date(u.value.reserve_start_date),s=new Date(l);return!a||!s?!0:!ee(s,a)||"結束日期不能早於起始日期"}]}),m=r([]),N=async()=>{const{valid:l}=await C.value.validate();if(!l)return;const{license_plate:a,reserve_start_date:s,reserve_end_date:f,note:p}=u.value;let v={license_plate:a,reserve_start_date:O(s),reserve_end_date:O(f),note:p};if(m.value.length>0&&m.value.find(F=>F.license_plate===a)){c.value=!0,x.value="無法登記",b.value="本車號已登記，須先刪除原本登記日期後才能再次申請。",k.value=!1;return}m.value.push(v),C.value.reset()},q=l=>{B.value=l,c.value=!0,x.value="刪除登記車號",b.value=`確認刪除 ${l.license_plate} 申請車號？`,k.value=!0},S=()=>{const l=m.value.findIndex(a=>a.id===B.value.id);l!==-1&&m.value.splice(l,1)},V=async()=>{const l={userId:$.userID,reserve:m.value};if(m.value.length===0){g("closeForm");return}U.value=!0;const a="/member/grand_hotel/register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const s=await Y.post(a,l),{returnCode:f,message:p,data:v}=s;f===0?g("closeForm"):f===-1&&(x.value="無法登記",b.value=`${p}`,k.value=!1,c.value=!0)}catch(s){console.log({err:s})}finally{U.value=!1}},o=()=>{c.value=!1,S()},I=()=>{c.value=!1};return(l,a)=>{const s=n("v-icon"),f=n("v-avatar"),p=n("v-text-field"),v=n("v-col"),z=n("v-date-input"),F=n("v-btn"),j=n("v-row"),E=n("v-form"),w=n("v-list-item"),H=n("v-list"),Q=n("v-card"),J=n("v-container");return h(),M("div",fe,[e(Q,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__header bg-orange-lighten-5",onClick:a[0]||(a[0]=i=>g("closeForm"))},[e(s,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(f,{image:`${P(_)}${$.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",me,y($.activeTab.title),1)]),e(J,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(E,{ref_key:"checkinFormRef",ref:C,onSubmit:W(N,["prevent"])},{default:t(()=>[e(j,{dense:"",class:"flex-0-1"},{default:t(()=>[e(v,{cols:"12",md:"4"},{default:t(()=>[e(p,{modelValue:u.value.license_plate,"onUpdate:modelValue":a[1]||(a[1]=i=>u.value.license_plate=i),rules:T.value.carRules,placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",onInput:a[2]||(a[2]=i=>u.value.license_plate=u.value.license_plate.toUpperCase()),required:""},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"12",md:"4"},{default:t(()=>[e(z,{modelValue:u.value.reserve_start_date,"onUpdate:modelValue":a[3]||(a[3]=i=>u.value.reserve_start_date=i),rules:T.value.startDateRule,"display-format":P(O),min:new Date,"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"起：2026-01-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format","min"])]),_:1}),e(v,{cols:"12",md:"4"},{default:t(()=>[e(z,{modelValue:u.value.reserve_end_date,"onUpdate:modelValue":a[4]||(a[4]=i=>u.value.reserve_end_date=i),rules:T.value.endDateRule,"display-format":P(O),min:new Date,"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"迄：2026-01-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format","min"])]),_:1}),e(v,{cols:"12"},{default:t(()=>[d("div",_e,[e(F,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[...a[6]||(a[6]=[D(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),m.value.length>0?(h(),R(Q,{key:0,variant:"outlined",class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto"},{default:t(()=>[e(H,null,{default:t(()=>[(h(!0),M(G,null,K(m.value,i=>(h(),R(w,{class:"py-2",key:i.id},{default:t(()=>[d("div",pe,[e(j,{"no-gutters":"",class:"align-center flex-grow-1"},{default:t(()=>[e(v,{cols:"12",md:"4",class:"text-h5 font-weight-bold text-grey-darken-1"},{default:t(()=>[D(y(i.license_plate),1)]),_:2},1024),e(v,{cols:"12",md:"4",class:"text-subtitle-1 text-blue-darken-3"},{default:t(()=>[D(y(i.reserve_start_date),1)]),_:2},1024),e(v,{cols:"12",md:"4",class:"text-subtitle-1 text-blue-darken-3"},{default:t(()=>[D(y(i.reserve_end_date),1)]),_:2},1024)]),_:2},1024),d("div",null,[e(F,{density:"comfortable",variant:"flat",icon:"fa:fas fa-times-circle",class:"text-red-darken-1",onClick:ae=>q(i)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):L("",!0),e(j,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(v,{cols:"12"},{default:t(()=>[d("div",ge,[e(F,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:V},{default:t(()=>[...a[7]||(a[7]=[D(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(X,{modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=i=>c.value=i),message:b.value,messageTitle:x.value,isConfirmBtn:k.value,onPromptConfirm:o,onOnClose:I},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},be={id:"checkin",class:"h-100"},we={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},xe={class:"d-flex flex-wrap justify-end w-100"},ye={class:"d-flex justify-space-between w-100"},ke={class:"mt-3 d-flex flex-wrap justify-end w-100"},Ce={__name:"SelfCheckinForm",props:{activeTab:{type:Object,default:()=>({})},userID:{type:Number,default:""}},emits:["closeForm"],setup(Z,{emit:A}){const $=Z,g=A,_="https://peterhsj.github.io/RentalDemo",c=r(!1),x=r(""),b=r(""),k=r(!1),U=r(!1),u=r({phone:"",reserve_start_date:"",reserve_end_date:"",note:""}),B=r(null),C=r(),T=r({phoneRules:[l=>!!l||"手機號碼為必填",l=>/^\d{10}$/.test(l)||"請輸入有效的手機號碼"],startDateRule:[l=>!!l||"請選擇起始日期",l=>{if(!l||!u.value.reserve_end_date)return!0;const a=new Date(l),s=new Date(u.value.reserve_end_date);return!a||!s?!0:!te(a,s)||"起始日期不能晚於結束日期"}],endDateRule:[l=>!!l||"請選擇結束日期",l=>{if(!l||!u.value.reserve_start_date)return!0;const a=new Date(u.value.reserve_start_date),s=new Date(l);return!a||!s?!0:!ee(s,a)||"結束日期不能早於起始日期"}]}),m=r([]),N=async()=>{const{valid:l}=await C.value.validate();if(!l)return;const{phone:a,reserve_start_date:s,reserve_end_date:f,note:p}=u.value,v={phone:a,reserve_start_date:O(s),reserve_end_date:O(f),note:p};if(m.value.length>0&&m.value.find(F=>F.phone===a)){c.value=!0,x.value="無法登記",b.value=`${returnMsg}`,k.value=!1;return}m.value.push(v),C.value.reset()},q=l=>{B.value=l,c.value=!0,x.value="刪除登記手機號碼",b.value=`確認刪除 ${l.phone} 申請手機號碼？`,k.value=!0},S=()=>{const l=m.value.findIndex(a=>a.id===B.value.id);l!==-1&&m.value.splice(l,1)},V=async()=>{const l={userId:$.userID,reserve:m.value};if(m.value.length===0){g("closeForm");return}U.value=!0;const a="/member/grand_hotel/self_register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const s=await Y.post(a,l),{returnCode:f,message:p,data:v}=s;f===0?g("closeForm"):f===-1&&(c.value=!0,x.value="無法登記",b.value=`${p}`,k.value=!1)}catch(s){console.log({err:s})}finally{U.value=!1}},o=()=>{c.value=!1,S()},I=()=>{c.value=!1};return(l,a)=>{const s=n("v-icon"),f=n("v-avatar"),p=n("v-text-field"),v=n("v-col"),z=n("v-date-input"),F=n("v-btn"),j=n("v-row"),E=n("v-form"),w=n("v-list-item"),H=n("v-list"),Q=n("v-card"),J=n("v-container");return h(),M("div",be,[e(Q,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__header rental__bg--light-blue",onClick:a[0]||(a[0]=i=>g("closeForm"))},[e(s,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(f,{image:`${P(_)}${$.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",we,y($.activeTab.title),1)]),e(J,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(E,{ref_key:"checkinFormRef",ref:C,onSubmit:W(N,["prevent"])},{default:t(()=>[e(j,{dense:"",class:"flex-0-1"},{default:t(()=>[e(v,{cols:"12",md:"4"},{default:t(()=>[e(p,{modelValue:u.value.phone,"onUpdate:modelValue":a[1]||(a[1]=i=>u.value.phone=i),placeholder:"請輸入登記手機號碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:T.value.phoneRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"12",md:"4"},{default:t(()=>[e(z,{modelValue:u.value.reserve_start_date,"onUpdate:modelValue":a[2]||(a[2]=i=>u.value.reserve_start_date=i),rules:T.value.startDateRule,"display-format":P(O),min:new Date,"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"起：2026-01-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format","min"])]),_:1}),e(v,{cols:"12",md:"4"},{default:t(()=>[e(z,{modelValue:u.value.reserve_end_date,"onUpdate:modelValue":a[3]||(a[3]=i=>u.value.reserve_end_date=i),rules:T.value.endDateRule,"display-format":P(O),min:new Date,"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"迄：2026-01-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format","min"])]),_:1}),e(v,{cols:"12"},{default:t(()=>[d("div",xe,[e(F,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[...a[5]||(a[5]=[D(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),m.value.length>0?(h(),R(Q,{key:0,variant:"outlined",class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto"},{default:t(()=>[e(H,null,{default:t(()=>[(h(!0),M(G,null,K(m.value,i=>(h(),R(w,{class:"py-2",key:i.id},{default:t(()=>[d("div",ye,[e(j,{"no-gutters":"",class:"align-center flex-grow-1"},{default:t(()=>[e(v,{cols:"12",md:"4",class:"text-h5 font-weight-bold text-grey-darken-1"},{default:t(()=>[D(y(i.phone),1)]),_:2},1024),e(v,{cols:"12",md:"4",class:"text-subtitle-1 text-blue-darken-3"},{default:t(()=>[D(y(i.reserve_start_date),1)]),_:2},1024),e(v,{cols:"12",md:"4",class:"text-subtitle-1 text-blue-darken-3"},{default:t(()=>[D(y(i.reserve_end_date),1)]),_:2},1024)]),_:2},1024),d("div",null,[e(F,{density:"comfortable",variant:"flat",icon:"fa:fas fa-times-circle",class:"text-red-darken-1",onClick:ae=>q(i)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):L("",!0),e(j,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(v,{cols:"12"},{default:t(()=>[d("div",ke,[e(F,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:V},{default:t(()=>[...a[6]||(a[6]=[D(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(X,{modelValue:c.value,"onUpdate:modelValue":a[4]||(a[4]=i=>c.value=i),message:b.value,messageTitle:x.value,isConfirmBtn:k.value,onPromptConfirm:o,onOnClose:I},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Ve={id:"search",class:"h-100"},De={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},$e={class:"d-flex flex-wrap justify-end w-100"},Te={class:"d-flex flex-column w-100"},Ie={class:"ml-3 text-amber-darken-3"},Fe={class:"ml-3 text-amber-darken-3"},Re={class:"ml-3 text-amber-darken-3"},Ue={class:"ml-3 text-amber-darken-3"},Be={class:"ml-3 text-amber-darken-3"},je={class:"ml-3 text-amber-darken-3"},Pe={class:"mt-3 d-flex flex-wrap justify-end w-100"},Se={__name:"SearchForm",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(Z,{emit:A}){const $=Z,g=A,_="https://peterhsj.github.io/RentalDemo",c=r(!1),x=r(""),b=r(""),k=r(!1),U=r(!1),u=r({phone:"",license_plate:""}),B=r(),C=r({phoneRules:[V=>!V||/^\d{10}$/.test(V)||"請輸入有效的手機號碼"],carRules:[V=>!V||/^[A-Z0-9]+-[A-Z0-9]+$/.test(V)||"請輸入有效的車號 ( 需包含 - 符號 )"]}),T=r([]),m=async()=>{const{valid:V}=await B.value.validate();if(!V)return;const{phone:o,license_plate:I}=u.value;if(o===""&&I===""){c.value=!0,x.value="無法登記",b.value="請輸入登記手機號碼或登記車號",k.value=!1;return}const l={phone:o,license_plate:I};U.value=!0;const a="/member/grand_hotel/select_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const s=await Y.post(a,l),{returnCode:f,message:p,data:v}=s;f===0?T.value=v:(c.value=!0,x.value="訊息",b.value=`${p}`,k.value=!1)}catch(s){console.log({err:s})}finally{U.value=!1}},N=()=>{g("closeForm")},q=()=>{c.value=!1},S=()=>{c.value=!1};return(V,o)=>{const I=n("v-icon"),l=n("v-avatar"),a=n("v-text-field"),s=n("v-col"),f=n("v-btn"),p=n("v-row"),v=n("v-form"),z=n("v-list-item"),F=n("v-list"),j=n("v-card"),E=n("v-container");return h(),M("div",Ve,[e(j,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__bg--light-blue rental__header",onClick:N},[e(I,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(l,{image:`${P(_)}${$.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",De,y($.activeTab.title),1)]),e(E,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(v,{ref_key:"searchFormRef",ref:B,onSubmit:W(m,["prevent"])},{default:t(()=>[e(p,{dense:"",class:"flex-0-1"},{default:t(()=>[e(s,{cols:"12",md:"4"},{default:t(()=>[e(a,{modelValue:u.value.phone,"onUpdate:modelValue":o[0]||(o[0]=w=>u.value.phone=w),placeholder:"請輸入登記手機號碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:C.value.phoneRules},null,8,["modelValue","rules"])]),_:1}),e(s,{cols:"12",md:"4"},{default:t(()=>[e(a,{modelValue:u.value.license_plate,"onUpdate:modelValue":o[1]||(o[1]=w=>u.value.license_plate=w),placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white","hide-details":"auto",rules:C.value.carRules,onInput:o[2]||(o[2]=w=>u.value.license_plate=u.value.license_plate.toUpperCase())},null,8,["modelValue","rules"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[...o[4]||(o[4]=[d("p",{class:"text-subtitle-2 text-red-darken-1"}," 輸入其中之一即可。 ",-1)])]),_:1}),e(s,{cols:"12"},{default:t(()=>[d("div",$e,[e(f,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[...o[5]||(o[5]=[D(" 查詢 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),T.value.length>0?(h(),R(j,{key:0,variant:"outlined",class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto"},{default:t(()=>[e(F,null,{default:t(()=>[(h(!0),M(G,null,K(T.value,w=>(h(),R(z,{class:"py-2",key:w.id},{default:t(()=>[d("div",Te,[e(p,{"no-gutters":"",class:"align-center"},{default:t(()=>[e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[o[6]||(o[6]=d("span",{class:"text-grey-darken-1"},"登記來源",-1)),d("span",Ie,y(w.reserve_type==="2"?"臨櫃":"自助"),1)]),_:2},1024),e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[o[7]||(o[7]=d("span",{class:"text-grey-darken-1"},"登記帳號",-1)),d("span",Fe,y(w.reserve_acc),1)]),_:2},1024),e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold d-flex flex-nowrap"},{default:t(()=>[o[8]||(o[8]=d("div",{class:"text-grey-darken-1 text-no-wrap"},"登記日期",-1)),d("div",Re,y(w.reserve_date),1)]),_:2},1024)]),_:2},1024),e(p,{"no-gutters":"",class:"align-center mt-3"},{default:t(()=>[e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[o[9]||(o[9]=d("span",{class:"text-grey-darken-1"},"車　　號",-1)),d("span",Ue,y(w.license_plate),1)]),_:2},1024),e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[o[10]||(o[10]=d("span",{class:"text-grey-darken-1"},"起　　日",-1)),d("span",Be,y(w.reserve_start_date),1)]),_:2},1024),e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[o[11]||(o[11]=d("span",{class:"text-grey-darken-1"},"迄　　日",-1)),d("span",je,y(w.reserve_end_date),1)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})):L("",!0),e(p,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[d("div",Pe,[e(f,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:N},{default:t(()=>[...o[12]||(o[12]=[D(" 回選單 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(X,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=w=>c.value=w),message:b.value,messageTitle:x.value,isConfirmBtn:k.value,onPromptConfirm:q,onOnClose:S},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},ze={id:"parkingView",class:"d-flex flex-column bg-grey-lighten-4 h-100"},Le={class:"pt-2 d-flex align-center"},Ae={class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"},Ne={__name:"CounterView",setup(Z){const A="https://peterhsj.github.io/RentalDemo",$=re(),g=r(null),_=r({}),c=r(!1),x=r(!1),b=r(!1),k=r(""),U=r(""),u=r(!1),B=o=>{_.value=o,c.value=!0,o.value==="logout"&&(localStorage.removeItem("memberInfo"),g.value=null)},C=()=>{_.value={},c.value=!1},T=()=>{_.value={},c.value=!1,$.push("/CounterLogin")},m=()=>{_.value={},c.value=!1},N=()=>{b.value=!1},q=()=>{b.value=!1},S=()=>{x.value=window.innerWidth<=960},V=()=>{if(localStorage.getItem("memberInfo"))g.value=JSON.parse(localStorage.getItem("memberInfo"));else{$.push("/CounterLogin");return}};return le(()=>{V(),S(),window.addEventListener("resize",S)}),se(()=>{window.removeEventListener("resize",S)}),(o,I)=>{const l=n("v-img"),a=n("v-avatar"),s=n("v-card"),f=n("v-container");return h(),M("div",ze,[ne(e(f,{class:"pb-1 rental rental__wrapper"},{default:t(()=>[e(s,{variant:"elevated",elevation:"4",class:"pa-2"},{default:t(()=>[e(l,{color:"surface-variant",height:"200",width:"100%",src:`${P(A)}/images/hotel_01.png`,cover:"",alt:"Parking Image"},{default:t(()=>[...I[1]||(I[1]=[d("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},[D("住宿車輛"),d("br"),D("預約及臨櫃登記")],-1)])]),_:1},8,["src"]),d("div",Le,[e(a,{image:`${P(A)}/images/profile.svg`,size:"30"},null,8,["image"]),d("span",Ae,y(g.value&&g.value.acc_name)+" 您好！ ",1)])]),_:1}),c.value?L("",!0):(h(),R(ue,{key:0,tabList:P(de),onSetActiveTab:B},null,8,["tabList"]))]),_:1},512),[[oe,!x.value||!c.value]]),_.value.value==="counterCheckIn"?(h(),R(f,{key:0,id:"counterCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(he,{activeTab:_.value,userID:g.value&&g.value.userId,onCloseForm:C},null,8,["activeTab","userID"])]),_:1})):L("",!0),_.value.value==="selfCheckIn"?(h(),R(f,{key:1,id:"selfCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(Ce,{activeTab:_.value,userID:g.value&&g.value.userId,onCloseForm:C},null,8,["activeTab","userID"])]),_:1})):L("",!0),_.value.value==="search"?(h(),R(f,{key:2,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(Se,{activeTab:_.value,onCloseForm:C},null,8,["activeTab"])]),_:1})):L("",!0),_.value.value==="logout"?(h(),R(f,{key:3,id:"logout",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(ie,{activeTab:_.value,onOnLogin:T},null,8,["activeTab"])]),_:1})):L("",!0),_.value.value==="changePassword"?(h(),R(f,{key:4,id:"changePassword",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(ce,{activeTab:_.value,userInfo:g.value,onOnClose:m},null,8,["activeTab","userInfo"])]),_:1})):L("",!0),e(X,{modelValue:b.value,"onUpdate:modelValue":I[0]||(I[0]=p=>b.value=p),message:U.value,messageTitle:k.value,isConfirmBtn:u.value,onPromptConfirm:N,onOnClose:q},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Je=ve(Ne,[["__scopeId","data-v-24f7eccb"]]);export{Je as default};
