import{r as V,l as M,m as S,b as o,f as g,o as b,w as t,a as e,n as $,d as i,k as m,t as L,j as F}from"./index-iN_J29Lv.js";const P=[{value:"parking",title:"停車",subTitle:"車號登記"},{value:"search",title:"查詢",subTitle:"登記查詢"},{value:"parkingInfo",title:"停車資訊",subTitle:"停車場位置與相關規範"}],U={class:"d-flex ga-2 flex-wrap justify-end w-100"},A={__name:"SearchForm",props:{type:{type:String,default:"parking"},formData:{type:Object,default:()=>({})}},emits:["update:formData","closeForm","sendForm"],setup(r,{expose:h,emit:p}){const c=r,u=p,_=V(),n=M(c.formData),d=V("https://picsum.photos/id/190/120/40"),l=V({phoneRules:[a=>!!a||"手機號碼為必填",a=>/^\d{10}$/.test(a)||"請輸入有效的手機號碼"],carRules:[a=>!!a||"車號為必填"],captchaRules:[a=>!!a||"驗證碼為必填"]});S(()=>c.formData,a=>{Object.assign(n,a)},{deep:!0}),S(()=>n,a=>{u("update:formData",a)},{deep:!0});const x=()=>{d.value=`https://picsum.photos/id/${Math.floor(Math.random()*1e3)}/120/40`},w=async()=>{const{valid:a}=await _.value.validate();a&&u("sendForm")},v=()=>{u("closeForm")};return h({initForm:()=>{_.value.reset()}}),(a,s)=>{const k=o("v-text-field"),f=o("v-col"),D=o("v-img"),R=o("v-row"),T=o("v-btn"),j=o("v-container"),N=o("v-form"),B=o("v-card");return b(),g(B,{variant:"outlined",class:"mb-5 pa-2 rounded-lg bordered border-md bg-white"},{default:t(()=>[e(N,{ref_key:"parkingFormRef",ref:_,onSubmit:$(w,["prevent"])},{default:t(()=>[e(j,{class:"pb-0"},{default:t(()=>[e(R,{dense:""},{default:t(()=>[e(f,{cols:"12",md:"6"},{default:t(()=>[e(k,{modelValue:n.phoneNumber,"onUpdate:modelValue":s[0]||(s[0]=y=>n.phoneNumber=y),placeholder:"請輸入登記手機號碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:l.value.phoneRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12",md:"6"},{default:t(()=>[e(k,{modelValue:n.carNumber,"onUpdate:modelValue":s[1]||(s[1]=y=>n.carNumber=y),placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:l.value.carRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12",class:"py-0"},{default:t(()=>[...s[3]||(s[3]=[i("p",{class:"text-subtitle-1 font-weight-bold"},"驗證碼",-1)])]),_:1}),e(f,{cols:"12",md:"6"},{default:t(()=>[e(k,{modelValue:n.captcha,"onUpdate:modelValue":s[2]||(s[2]=y=>n.captcha=y),placeholder:"請輸入驗證碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:l.value.captchaRules,required:""},{append:t(()=>[e(D,{color:"surface-variant",height:"40",width:"120",src:d.value,cover:"",alt:"captcha",onClick:x},null,8,["src"])]),_:1},8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[...s[4]||(s[4]=[i("p",{class:"text-subtitle-2 text-red-darken-1"},[m(" 注意："),i("br"),m(" 更換車號請重新操作，入場當日無法更換登記車號。 ")],-1)])]),_:1})]),_:1}),e(R,{"no-gutters":""},{default:t(()=>[e(f,{cols:"12",class:"mt-4"},{default:t(()=>[i("div",U,[e(T,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[m(L(r.type==="parking"?"登記":"查詢"),1)]),_:1}),e(T,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:v},{default:t(()=>[...s[5]||(s[5]=[m(" 離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})}}},H={class:"d-flex flex-column align-center justify-center"},I=["innerHTML"],q={class:"d-flex ga-2 flex-wrap justify-center w-100"},E={__name:"InfoView",props:{info:{type:String,default:""},infoStatus:{type:String,default:"success"}},emits:["infoClose","reWrite"],setup(r,{emit:h}){const p=h,c=()=>{p("infoClose")},u=()=>{p("reWrite")};return(_,n)=>{const d=o("v-icon"),l=o("v-btn"),x=o("v-col"),w=o("v-row"),v=o("v-container"),C=o("v-card");return b(),g(v,{class:"rental rental__wrapper flex-grow-1"},{default:t(()=>[e(C,{variant:"outlined",class:"mb-5 pt-5 d-flex flex-column justify-space-between rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[i("div",H,[i("span",null,[e(d,{icon:r.infoStatus==="success"?"fa:fas fa-check-circle":r.infoStatus==="error"?"fa:fas fa-exclamation-triangle":"fa:fas fa-car",color:r.infoStatus==="success"?"green-accent-4":"amber-lighten-1",size:"120",class:"my-4"},null,8,["icon","color"])]),i("div",{class:"d-flex flex-column align-center justify-center pa-6",innerHTML:r.info},null,8,I)]),e(v,{class:"py-2"},{default:t(()=>[e(w,{"no-gutters":""},{default:t(()=>[e(x,{cols:"12"},{default:t(()=>[i("div",q,[r.infoStatus!=="error"?(b(),g(l,{key:0,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:c},{default:t(()=>[...n[0]||(n[0]=[m(" 離開 ",-1)])]),_:1})):F("",!0),r.infoStatus==="error"?(b(),g(l,{key:1,color:"orange-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:u},{default:t(()=>[...n[1]||(n[1]=[m(" 重新輸入 ",-1)])]),_:1})):F("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},W={class:"mr-4"},z=["innerHTML"],G={__name:"PromptDialog",props:{messageDialog:{type:Boolean,default:!1},messageTitle:{type:String,default:"提示"},message:{type:String,default:""},isConfirmBtn:{type:Boolean,default:!1}},emits:["update:messageDialog","promptConfirm","onClose"],setup(r,{emit:h}){const p=r,c=V(p.messageDialog);S(()=>p.messageDialog,d=>{c.value=d}),S(()=>c.value,d=>{u("update:messageDialog",d)});const u=h,_=()=>{c.value=!1,u("onClose")},n=()=>{u("promptConfirm"),c.value=!1};return(d,l)=>{const x=o("v-card-title"),w=o("v-icon"),v=o("v-card-text"),C=o("v-spacer"),a=o("v-btn"),s=o("v-card-actions"),k=o("v-card"),f=o("v-dialog");return b(),g(f,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=D=>c.value=D),width:"auto",persistent:""},{default:t(()=>[e(k,{"max-width":"400"},{default:t(()=>[e(x,{class:"px-6 text-subtitle-1 bg-blue-darken-2"},{default:t(()=>[...l[1]||(l[1]=[m(" 登記手機號碼已有申請車輛 ",-1)])]),_:1}),e(v,{class:"d-flex align-center"},{default:t(()=>[i("span",W,[e(w,{icon:"fa:fas fa-exclamation-triangle",size:"60",color:"amber-lighten-1",class:"my-4"})]),i("div",{innerHTML:r.message},null,8,z)]),_:1}),e(s,null,{default:t(()=>[e(C),e(a,{variant:"outlined",color:"blue-darken-3",onClick:_},{default:t(()=>[...l[2]||(l[2]=[m(" 離開 ",-1)])]),_:1}),r.isConfirmBtn?(b(),g(a,{key:0,variant:"flat",color:"light-green-darken-2",onClick:n},{default:t(()=>[...l[3]||(l[3]=[m(" 確認 ",-1)])]),_:1})):F("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{E as _,G as a,A as b,P as p};
