import{h as r,r as W,y as L,a5 as o,ac as B,a7 as v,n as e,ad as t,v as d,V as U,a2 as O,Z as C,a6 as w,af as F,H as E,a0 as q,P as H,Q as X,u as Q}from"./vue-core-BOLQPpeJ.js";import{_ as Z,a as G,p as J}from"./PromptDialog-Bkf90FQy.js";import{_ as K}from"./index-D5whIE8s.js";import"./vuetify-B9nufYXq.js";import"./date-DE_Uv9Lq.js";const Y={id:"search",class:"h-100"},ee={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},te={class:"d-flex ga-2 flex-wrap justify-end w-100"},z={__name:"SearchForm",props:{activeTab:{type:Object,default:()=>({})},formData:{type:Object,default:()=>({})}},emits:["update:formData","closeForm","sendForm"],setup(h,{expose:l,emit:n}){const m=h,i=n,f=r(),a=W(m.formData),p=r("https://picsum.photos/id/190/120/40"),u=r({phoneRules:[s=>!!s||"手機號碼為必填",s=>/^\d{10}$/.test(s)||"請輸入有效的手機號碼"],carRules:[s=>!!s||"車號為必填"],captchaRules:[s=>!!s||"驗證碼為必填"]});L(()=>m.formData,s=>{Object.assign(a,s)},{deep:!0}),L(()=>a,s=>{i("update:formData",s)},{deep:!0});const _=()=>{p.value=`https://picsum.photos/id/${Math.floor(Math.random()*1e3)}/120/40`},k=async()=>{const{valid:s}=await f.value.validate();s&&i("sendForm")},b=()=>{i("closeForm")};return l({initForm:()=>{f.value.reset()}}),(s,c)=>{const P=o("v-icon"),I=o("v-avatar"),V=o("v-text-field"),x=o("v-col"),M=o("v-img"),R=o("v-row"),$=o("v-btn"),S=o("v-container"),N=o("v-form"),g=o("v-card");return v(),B("div",Y,[e(g,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",{class:"px-4 py-3 d-flex align-center bg-orange-lighten-5 rental__header",onClick:b},[e(P,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(I,{image:m.activeTab.icon,size:"40"},null,8,["image"]),d("span",ee,U(m.activeTab.title),1)]),e(N,{ref_key:"parkingFormRef",ref:f,class:"h-100",onSubmit:O(k,["prevent"])},{default:t(()=>[e(S,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(R,{dense:"",class:"flex-0-1"},{default:t(()=>[e(x,{cols:"12",md:"6"},{default:t(()=>[e(V,{modelValue:a.phoneNumber,"onUpdate:modelValue":c[0]||(c[0]=y=>a.phoneNumber=y),placeholder:"請輸入登記手機號碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:u.value.phoneRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(x,{cols:"12",md:"6"},{default:t(()=>[e(V,{modelValue:a.carNumber,"onUpdate:modelValue":c[1]||(c[1]=y=>a.carNumber=y),placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:u.value.carRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(x,{cols:"12",class:"py-0"},{default:t(()=>[...c[3]||(c[3]=[d("p",{class:"text-subtitle-1 font-weight-bold"},"驗證碼",-1)])]),_:1}),e(x,{cols:"12",md:"6"},{default:t(()=>[e(V,{modelValue:a.captcha,"onUpdate:modelValue":c[2]||(c[2]=y=>a.captcha=y),placeholder:"請輸入驗證碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:u.value.captchaRules,required:""},{append:t(()=>[e(M,{color:"surface-variant",height:"40",width:"120",src:p.value,cover:"",alt:"captcha",onClick:_},null,8,["src"])]),_:1},8,["modelValue","rules"])]),_:1}),e(x,{cols:"12"},{default:t(()=>[...c[4]||(c[4]=[d("p",{class:"text-subtitle-2 text-red-darken-1"},[C(" 注意："),d("br"),C(" 更換車號請重新操作，入場當日無法更換登記車號。 ")],-1)])]),_:1})]),_:1}),e(R,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(x,{cols:"12",class:"mt-4"},{default:t(()=>[d("div",te,[e($,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[C(U(m.activeTab.value==="parking"?"登記":"查詢"),1)]),_:1}),e($,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:b},{default:t(()=>[...c[5]||(c[5]=[C(" 離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})])}}},ae={id:"parkingInfo",class:"h-100"},oe={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},ne={__name:"ParkingInfo",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(h,{emit:l}){const n=h,m=l,i=()=>{m("closeForm")};return(f,a)=>{const p=o("v-icon"),u=o("v-avatar"),_=o("v-col"),k=o("v-row"),b=o("v-container"),T=o("v-card");return v(),B("div",ae,[e(T,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",{class:"px-4 py-3 d-flex align-center bg-orange-lighten-5 rental__header",onClick:i},[e(p,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(u,{image:n.activeTab.icon,size:"40"},null,8,["image"]),d("span",oe,U(n.activeTab.title),1)]),e(b,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(k,{dense:"",class:"flex-0-1"},{default:t(()=>[e(_,{cols:"12",md:"6"},{default:t(()=>[...a[0]||(a[0]=[C(" ParkingInfo ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])}}},le={class:"d-flex flex-column align-center justify-center"},se={class:"my-4"},re=["innerHTML"],ce={class:"d-flex ga-2 flex-wrap justify-center w-100"},ie={__name:"InfoView",props:{info:{type:String,default:""},infoStatus:{type:String,default:"success"}},emits:["infoClose","reWrite"],setup(h,{emit:l}){const n=l,m=()=>{n("infoClose")},i=()=>{n("reWrite")};return(f,a)=>{const p=o("v-img"),u=o("v-btn"),_=o("v-col"),k=o("v-row"),b=o("v-container"),T=o("v-card");return v(),w(b,{class:"rental rental__wrapper flex-grow-1"},{default:t(()=>[e(T,{variant:"outlined",class:"mb-5 pt-5 d-flex flex-column justify-space-between rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",le,[d("span",se,[e(p,{height:"100%",width:"120px",src:h.infoStatus==="success"?"/public/images/check.svg":"/public/images/warning.svg",cover:"",alt:"icon image"},null,8,["src"])]),d("div",{class:"d-flex flex-column align-center justify-center pa-6",innerHTML:h.info},null,8,re)]),e(b,{class:"py-2"},{default:t(()=>[e(k,{"no-gutters":""},{default:t(()=>[e(_,{cols:"12"},{default:t(()=>[d("div",ce,[h.infoStatus!=="error"?(v(),w(u,{key:0,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:m},{default:t(()=>[...a[0]||(a[0]=[C(" 離開 ",-1)])]),_:1})):F("",!0),h.infoStatus==="error"?(v(),w(u,{key:1,color:"orange-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:i},{default:t(()=>[...a[1]||(a[1]=[C(" 重新輸入 ",-1)])]),_:1})):F("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ue={id:"parkingView",class:"d-flex flex-column bg-grey-lighten-4 h-100"},de={__name:"ParkingView",setup(h){const l=r({}),n=r(!1),m=r(!1),i=r(),f=r({phoneNumber:"",carNumber:"",captcha:""}),a=r(!1),p=r(""),u=r(""),_=r(!1),k=r(""),b=r(""),T=r(!1),s=N=>{l.value=N,n.value=!0},c=async()=>{console.log("提交表單",f.value),n.value=!1,a.value=!0,u.value="success",p.value=`<p class="text-h4 text-grey-darken-1 font-weight-bold my-2">
      已完成登記
    </p>
    <p class="rental__text--h45 text-grey-darken-1 font-weight-bold mt-3">
      車號
    </p>
    <p class="text-h5 text-amber-darken-3 font-weight-bold my-0">
      AAX-6895
    </p>
    <p class="rental__text--h45 text-grey-darken-1 font-weight-bold mt-4">
      停放日期
    </p>
    <p class="text-h5 text-amber-darken-3 font-weight-bold my-0">
      2025-10-09 ~ 2025-10-10
    </p>`,i.value.initForm()},P=()=>{l.value={},a.value=!0,u.value="success",p.value=`<p class="text-h4 text-grey-darken-1 font-weight-bold my-2">
      已完成登記
    </p>
    <p class="rental__text--h45 text-grey-darken-1 font-weight-bold mt-3">
      車號
    </p>
    <p class="text-h5 text-amber-darken-3 font-weight-bold my-0">
      AAX-6895
    </p>
    <p class="rental__text--h45 text-grey-darken-1 font-weight-bold mt-4">
      停放日期
    </p>
    <p class="text-h5 text-amber-darken-3 font-weight-bold my-0">
      2025-10-09 ~ 2025-10-10
    </p>`},I=()=>{l.value={},i.value.initForm(),n.value=!1},V=()=>{l.value={},n.value=!1},x=()=>{a.value=!1,n.value=!0},M=()=>{a.value=!1,n.value=!1,l.value={},f.value={phoneNumber:"",carNumber:"",captcha:""}},R=()=>{_.value=!1,a.value=!0,n.value=!1,u.value="success",i.value.initForm()},$=()=>{_.value=!1},S=()=>{m.value=window.innerWidth<=960};return E(()=>{S(),window.addEventListener("resize",S)}),q(()=>{window.removeEventListener("resize",S)}),(N,g)=>{const y=o("v-img"),A=o("v-card"),j=o("v-container");return v(),B("div",ue,[H(e(j,{class:"pb-1 rental rental__wrapper"},{default:t(()=>[e(A,{variant:"elevated",elevation:"4",class:"pa-2"},{default:t(()=>[e(y,{color:"surface-variant",height:"200",width:"100%",src:"/public/images/hotel_01.png",cover:"",alt:"Parking Image"},{default:t(()=>[...g[3]||(g[3]=[d("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},"住宿車輛登記",-1)])]),_:1})]),_:1}),!n.value&&!a.value?(v(),w(G,{key:0,tabList:Q(J),onSetActiveTab:s},null,8,["tabList"])):F("",!0)]),_:1},512),[[X,(!m.value||!n.value)&&!a.value]]),n.value&&l.value.value==="parking"?(v(),w(j,{key:0,id:"parking",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(z,{ref_key:"searchFormRef",ref:i,formData:f.value,"onUpdate:formData":g[0]||(g[0]=D=>f.value=D),activeTab:l.value,onCloseForm:I,onSendForm:c},null,8,["formData","activeTab"])]),_:1})):F("",!0),n.value&&l.value.value==="search"?(v(),w(j,{key:1,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(z,{ref_key:"searchFormRef",ref:i,activeTab:l.value,formData:f.value,"onUpdate:formData":g[1]||(g[1]=D=>f.value=D),onCloseForm:I,onSendForm:P},null,8,["activeTab","formData"])]),_:1})):F("",!0),n.value&&l.value.value==="parkingInfo"?(v(),w(j,{key:2,id:"parkingInfo",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(ne,{activeTab:l.value,onCloseForm:V},null,8,["activeTab"])]),_:1})):F("",!0),a.value?(v(),w(ie,{key:3,infoStatus:u.value,info:p.value,onInfoClose:M,onReWrite:x},null,8,["infoStatus","info"])):F("",!0),e(Z,{modelValue:_.value,"onUpdate:modelValue":g[2]||(g[2]=D=>_.value=D),message:b.value,messageTitle:k.value,isConfirmBtn:T.value,onPromptConfirm:R,onOnClose:$},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},ge=K(de,[["__scopeId","data-v-52b55652"]]);export{ge as default};
