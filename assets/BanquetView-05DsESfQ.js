import{h as s,H as E,a5 as n,ac as I,a7 as d,n as e,ad as t,v as o,u as C,V as O,a6 as v,af as f,F as K,ae as ee,x as te,Z as T,a2 as ae,a0 as le,P as oe,Q as se,ah as ne}from"./vue-core-CsbKmrRr.js";import{_ as re,b as ie}from"./TabList-C060IOAN.js";import{f as W,_ as de,C as ue}from"./ChangePassword-Bo1QRLR_.js";import{_ as H}from"./PromptDialog-TYGxE2y4.js";import{i as ce,e as me}from"./date-DE_Uv9Lq.js";import{_ as ve}from"./index-Cfw002nn.js";import"./vuetify-CHkSyw28.js";const fe={id:"checkin",class:"h-100"},pe={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},ge={class:"mx-4"},_e={class:"my-2"},he={class:"py-1 text-h6 font-weight-regular"},be={class:"text-h6 font-weight-regular"},we={class:"ma-6 d-flex flex-column align-center justify-center"},xe={class:"mt-3 d-flex flex-wrap justify-end w-100"},ye={__name:"QrCode",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(A,{emit:q}){const R=A,u=q,g="https://peterhsj.github.io/RentalDemo",_=s(!1),k=s(""),Q=s(""),F=s(!1),c=s(""),h=s([]),B=s(),i=s({title:"",startDate:"",endDate:""}),$=s({phoneRules:[r=>!!r||"手機號碼為必填",r=>/^\d{10}$/.test(r)||"請輸入有效的手機號碼"],carRules:[r=>!!r||"車號為必填"],startDateRule:[r=>!!r||"請選擇起始日期",r=>{if(!r||!i.value.endDate)return!0;const a=new Date(r),p=new Date(i.value.endDate);return!a||!p?!0:!me(a,p)||"起始日期不能晚於結束日期"}],endDateRule:[r=>!!r||"請選擇結束日期",r=>{if(!r||!i.value.startDate)return!0;const a=new Date(i.value.startDate),p=new Date(r);return!a||!p?!0:!ce(p,a)||"結束日期不能早於起始日期"}]}),N=s([{id:"p01",value:1,title:"1 小時"},{id:"p02",value:2,title:"2 小時"},{id:"p01",value:3,title:"3 小時"},{id:"p02",value:4,title:"4 小時"}]),U=s([{id:"p01",disabled:!1,startDate:"2025-10-01",title:"王林府喜宴"},{id:"p02",disabled:!1,startDate:"2025-10-01",title:"AIT 餐會"},{id:"p01",disabled:!0,startDate:"2025-10-01",title:"YMCA 餐會"},{id:"p02",disabled:!1,startDate:"2025-10-01",title:"林王府喜宴"}]),D=s({}),w=()=>{h.value=U.value,c.value="showList"};E(()=>{w()});const l=r=>{D.value=r,c.value="showQRCode",console.log("currentItem",D.value)},P=()=>{c.value="addQrCode"},j=async()=>{const{valid:r}=await B.value.validate();if(!r)return;const{title:a,startDate:p,endDate:L,time:b}=i.value;console.log("送出表單",i.value)},z=()=>{u("closeForm")},x=()=>{_.value=!1,delParkingConfirm()},y=()=>{_.value=!1};return(r,a)=>{const p=n("v-icon"),L=n("v-img"),b=n("v-card"),V=n("v-col"),S=n("v-row"),X=n("v-text-field"),J=n("v-date-input"),Y=n("v-select"),Z=n("v-form"),M=n("v-btn"),G=n("v-container");return d(),I("div",fe,[e(b,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[o("div",{class:"px-4 py-3 d-flex align-center rental__header rental__bg--light-orange",onClick:z},[e(p,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),o("span",null,[e(L,{height:"30",width:"35",src:`${C(g)}${R.activeTab.icon}`,cover:"",alt:"icon"},null,8,["src"])]),o("span",pe,O(c.value==="showList"||c.value==="showQRCode"?R.activeTab.title:"產出 QRCode"),1)]),e(G,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[c.value==="showList"?(d(),v(b,{key:0,variant:"flat",class:"mt-5 pa-2 rounded-lg flex-grow-1 overflow-y-auto"},{default:t(()=>[h.value.length>0?(d(),v(S,{key:0},{default:t(()=>[(d(!0),I(K,null,ee(h.value,m=>(d(),v(V,{cols:"12",sm:"6",md:"3",key:m.id},{default:t(()=>[e(b,{variant:"flat",class:te(["pa-2 rounded-lg bg-light-green-darken-1 text-white mb-4 d-flex flex-row align-center",{"opacity-50":m.disabled}]),link:"",disabled:m.disabled,onClick:Be=>l(m)},{default:t(()=>[o("div",ge,[e(L,{height:"30",width:"35",cover:"",alt:"icon",src:`${C(g)}/images/qrcode.svg`},null,8,["src"])]),o("div",_e,[o("p",he,O(m.startDate),1),o("p",be,O(m.title),1)])]),_:2},1032,["class","disabled","onClick"])]),_:2},1024))),128))]),_:1})):f("",!0)]),_:1})):f("",!0),c.value==="showQRCode"?(d(),v(b,{key:1,variant:"flat",class:"mt-5 pa-2 rounded-lg flex-grow-1 overflow-y-auto"},{default:t(()=>[o("div",we,[o("span",null,[e(L,{height:"200",width:"200",color:"black",cover:"",alt:"icon",src:`${C(g)}/images/qrcode.svg`},null,8,["src"])]),a[6]||(a[6]=o("div",{class:"my-6 d-flex flex-column align-center justify-center"},[o("p",{class:"py-6 text-h5 font-weight-bold"}," 王林府喜宴 "),o("p",{class:"text-h5 font-weight-bold"}," 有效日期 "),o("p",{class:"text-h5 font-weight-regular"}," 2025-10-01 23:30 "),o("p",{class:"py-6 text-h5 font-weight-bold"}," 折抵小時數 3 ")],-1))])]),_:1})):f("",!0),c.value==="addQrCode"?(d(),v(b,{key:2,variant:"flat",class:"mt-5 pa-2 rounded-lg flex-grow-1 overflow-y-auto"},{default:t(()=>[e(Z,{ref_key:"qrCodeFormRef",ref:B},{default:t(()=>[e(S,{dense:"",class:"flex-0-1"},{default:t(()=>[e(V,{cols:"12"},{default:t(()=>[...a[7]||(a[7]=[o("p",{class:"mt-1 mb-2 text-h6 text-grey-darken-1"}," 宴會名稱： ",-1)])]),_:1}),e(V,{cols:"12",md:"4"},{default:t(()=>[e(X,{modelValue:i.value.title,"onUpdate:modelValue":a[0]||(a[0]=m=>i.value.title=m),placeholder:"請輸入宴會名稱",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:$.value.titleRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12"},{default:t(()=>[...a[8]||(a[8]=[o("p",{class:"mt-1 mb-2 text-h6 text-grey-darken-1"}," 有效日期及時間： ",-1)])]),_:1}),e(V,{cols:"12",md:"4"},{default:t(()=>[e(J,{modelValue:i.value.startDate,"onUpdate:modelValue":a[1]||(a[1]=m=>i.value.startDate=m),rules:$.value.startDateRule,"display-format":C(W),"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"起：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format"])]),_:1}),e(V,{cols:"12",md:"4"},{default:t(()=>[e(J,{modelValue:i.value.endDate,"onUpdate:modelValue":a[2]||(a[2]=m=>i.value.endDate=m),rules:$.value.endDateRule,"display-format":C(W),"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"迄：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format"])]),_:1}),e(V,{cols:"12",md:"4"},{default:t(()=>[e(Y,{modelValue:i.value.hours,"onUpdate:modelValue":a[3]||(a[3]=m=>i.value.hours=m),items:N.value,placeholder:"請選擇時間","item-title":"title","item-value":"value","`":"",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1},512)]),_:1})):f("",!0),e(S,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(V,{cols:"12"},{default:t(()=>[o("div",xe,[c.value==="showList"?(d(),v(M,{key:0,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:P},{default:t(()=>[...a[9]||(a[9]=[T(" 新增折抵 QRCode ",-1)])]),_:1})):f("",!0),c.value==="showQRCode"?(d(),v(M,{key:1,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:a[4]||(a[4]=m=>c.value="showList")},{default:t(()=>[...a[10]||(a[10]=[T(" 回選單 ",-1)])]),_:1})):f("",!0),c.value==="addQrCode"?(d(),v(M,{key:2,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:ae(j,["prevent"])},{default:t(()=>[...a[11]||(a[11]=[T(" 產出 QRCode ",-1)])]),_:1})):f("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),e(H,{modelValue:_.value,"onUpdate:modelValue":a[5]||(a[5]=m=>_.value=m),message:Q.value,messageTitle:k.value,isConfirmBtn:F.value,onPromptConfirm:x,onOnClose:y},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Ce={id:"search",class:"h-100"},ke={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},De={__name:"SearchForm",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(A,{emit:q}){const R=A,u=q,g="https://peterhsj.github.io/RentalDemo",_=s(!1),k=s(""),Q=s(""),F=s(!1),c=s(),h=s({carNumber:""}),B=s({carRules:[w=>!!w||"車號為必填"]});s(!1);const i=s([]);E(()=>{});const $=async()=>{console.log("送出表單",h.value.carNumber);const{valid:w}=await c.value.validate();if(!w)return;const{carNumber:l}=h.value;i.value=[{id:"p01",phoneNumber:"",carNumber:"ABC-1234",startDate:"2025-10-01 12:30:29",endDate:"2025-10-01"}]},N=()=>{u("closeForm")},U=()=>{_.value=!1,delParkingConfirm()},D=()=>{_.value=!1};return(w,l)=>{const P=n("v-icon"),j=n("v-avatar"),z=n("v-btn"),x=n("v-text-field"),y=n("v-col"),r=n("v-row"),a=n("v-form"),p=n("v-card"),L=n("v-container");return d(),I("div",Ce,[e(p,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[o("div",{class:"px-4 py-3 d-flex align-center rental__header bg-orange-lighten-5",onClick:N},[e(P,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(j,{image:`${C(g)}${R.activeTab.icon}`,size:"40"},null,8,["image"]),o("span",ke,O(R.activeTab.title),1)]),e(L,{class:"pb-2 d-flex flex-column",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(a,{ref_key:"formRef",ref:c},{default:t(()=>[e(r,{dense:""},{default:t(()=>[e(y,{cols:"12"},{default:t(()=>[e(x,{modelValue:h.value.carNumber,"onUpdate:modelValue":l[0]||(l[0]=b=>h.value.carNumber=b),rules:B.value.carRules,placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",class:"pr-0","bg-color":"white",required:""},{"append-inner":t(()=>[e(z,{type:"button",color:"blue-darken-3",variant:"flat",class:"mr-n3 px-3",height:"40",onClick:$},{default:t(()=>[...l[2]||(l[2]=[T(" 查詢 ",-1)])]),_:1})]),_:1},8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},512),i.value.length>0?(d(),v(p,{key:0,variant:"flat",class:"pa-2 rounded-lg bg-blue-darken-3 text-center"},{default:t(()=>[...l[3]||(l[3]=[o("p",null,"入場資訊",-1),o("p",{class:"py-2 text-h6 font-weight-bold"},"AXN-1234",-1),o("p",null,"2025-10-01 12:30:29",-1)])]),_:1})):f("",!0),i.value.length>0?(d(),v(p,{key:1,variant:"outlined",class:"mt-5 pa-2 d-flex flex-column align-center rounded-lg bordered border-md bg-white"},{default:t(()=>[l[8]||(l[8]=o("p",{class:"my-4 text-h6"},"應繳金額",-1)),l[9]||(l[9]=o("p",{class:"my-1"},[o("span",{class:"mr-1"},"NT$"),o("span",{class:"text-h3 font-weight-bold"},"150")],-1)),e(p,{variant:"flat",class:"my-2 pa-3 rounded-lg bg-grey-lighten-4 w-100"},{default:t(()=>[e(r,{dense:""},{default:t(()=>[e(y,{cols:"8",class:"text-grey-darken-1"},{default:t(()=>[...l[4]||(l[4]=[T(" 花園咖啡廳 ",-1)])]),_:1}),e(y,{cols:"4",class:"text-grey-darken-1"},{default:t(()=>[...l[5]||(l[5]=[T(" 2 hr ",-1)])]),_:1}),e(y,{cols:"8",class:"text-grey-darken-1"},{default:t(()=>[...l[6]||(l[6]=[T(" 民歌西餐廳 ",-1)])]),_:1}),e(y,{cols:"4",class:"text-grey-darken-1"},{default:t(()=>[...l[7]||(l[7]=[T(" 2 hr ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1}),e(H,{modelValue:_.value,"onUpdate:modelValue":l[1]||(l[1]=b=>_.value=b),message:Q.value,messageTitle:k.value,isConfirmBtn:F.value,onPromptConfirm:U,onOnClose:D},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Ve={id:"banquet",class:"d-flex flex-column bg-grey-lighten-4 h-100"},Te={class:"pt-2 d-flex align-center"},Re={__name:"BanquetView",setup(A){const q="https://peterhsj.github.io/RentalDemo",R=ne(),u=s({}),g=s(!1),_=s(!1),k=s(!1),Q=s(""),F=s(""),c=s(!1),h=w=>{u.value=w,g.value=!0,console.log("tab",u)},B=()=>{u.value={},g.value=!1},i=()=>{u.value={},g.value=!1,R.push("/ShopLogin")},$=()=>{u.value={},g.value=!1},N=()=>{k.value=!1},U=()=>{k.value=!1},D=()=>{_.value=window.innerWidth<=960};return E(()=>{D(),window.addEventListener("resize",D)}),le(()=>{window.removeEventListener("resize",D)}),(w,l)=>{const P=n("v-img"),j=n("v-avatar"),z=n("v-card"),x=n("v-container");return d(),I("div",Ve,[oe(e(x,{class:"pb-1 rental rental__wrapper"},{default:t(()=>[e(z,{variant:"elevated",elevation:"4",class:"pa-2"},{default:t(()=>[e(P,{color:"surface-variant",height:"200",width:"100%",src:`${C(q)}/images/hotel_01.png`,cover:"",alt:"Banquet Image"},{default:t(()=>[...l[1]||(l[1]=[o("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},"宴會廳自助折抵",-1)])]),_:1},8,["src"]),o("div",Te,[e(j,{image:`${C(q)}/images/profile.svg`,size:"30"},null,8,["image"]),l[2]||(l[2]=o("span",{class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"}," 松鶴餐廳 John Doe 您好！ ",-1))])]),_:1}),g.value?f("",!0):(d(),v(re,{key:0,tabList:C(ie),onSetActiveTab:h},null,8,["tabList"]))]),_:1},512),[[se,!_.value||!g.value]]),u.value.value==="qrCode"?(d(),v(x,{key:0,id:"qrCode",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(ye,{activeTab:u.value,onCloseForm:B},null,8,["activeTab"])]),_:1})):f("",!0),u.value.value==="search"?(d(),v(x,{key:1,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(De,{activeTab:u.value,onCloseForm:B},null,8,["activeTab"])]),_:1})):f("",!0),u.value.value==="logout"?(d(),v(x,{key:2,id:"logout",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(de,{activeTab:u.value,onOnLogin:i},null,8,["activeTab"])]),_:1})):f("",!0),u.value.value==="changePassword"?(d(),v(x,{key:3,id:"changePassword",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(ue,{activeTab:u.value,onOnClose:$},null,8,["activeTab"])]),_:1})):f("",!0),e(H,{modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=y=>k.value=y),message:F.value,messageTitle:Q.value,isConfirmBtn:c.value,onPromptConfirm:N,onOnClose:U},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Pe=ve(Re,[["__scopeId","data-v-f924be24"]]);export{Pe as default};
