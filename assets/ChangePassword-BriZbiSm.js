import{a5 as d,ac as S,a7 as i,n as e,ad as a,v as o,u as y,V as $,Z as c,h as g,a6 as h,af as b,a2 as H,F as ee,ae as te,x as ae}from"./vue-core-CsbKmrRr.js";import{f as le,i as oe,e as se}from"./date-DE_Uv9Lq.js";import{_ as ne}from"./index-OTIWBI75.js";const G=k=>{if(!k)return"";const R=new Date(k);return le(R,"yyyy-MM-dd")},re={id:"parkingInfo",class:"h-100"},de={class:"px-4 py-3 d-flex align-center rental__bg--light-blue"},ue={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},ie={class:"d-flex flex-column align-center justify-center"},ce={class:"my-10 pt-5"},fe={class:"mt-3 d-flex flex-wrap justify-end w-100"},Te={__name:"Logout",props:{activeTab:{type:Object,default:()=>({})}},emits:["onLogin"],setup(k,{emit:R}){const v="https://peterhsj.github.io/RentalDemo",_=k,B=R;return(n,w)=>{const z=d("v-avatar"),p=d("v-img"),D=d("v-col"),A=d("v-row"),V=d("v-btn"),L=d("v-container"),I=d("v-card");return i(),S("div",re,[e(I,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:a(()=>[o("div",de,[e(z,{image:`${y(v)}${_.activeTab.icon}`,size:"40"},null,8,["image"]),o("span",ue,$(_.activeTab.title),1)]),e(L,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:a(()=>[e(A,{dense:"",class:"flex-grow-1"},{default:a(()=>[e(D,{cols:"12"},{default:a(()=>[o("div",ie,[o("span",ce,[e(p,{height:"100%",width:"120px",src:`${y(v)}/images/check.svg`,cover:"",alt:"icon image"},null,8,["src"])]),w[1]||(w[1]=o("div",{class:"text-center text-h4 text-grey-darken-1 font-weight-bold my-2"}," 已成功登出 ",-1))])]),_:1})]),_:1}),e(A,{"no-gutters":"",class:"flex-0-1"},{default:a(()=>[e(D,{cols:"12"},{default:a(()=>[o("div",fe,[e(V,{color:"light-green-darken-2",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:w[0]||(w[0]=N=>B("onLogin"))},{default:a(()=>[...w[2]||(w[2]=[c(" 登入 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})])}}},pe={id:"changePassword",class:"h-100"},me={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},ge={class:"flex-grow-1"},ve={class:"mt-3 d-flex flex-wrap justify-end w-100"},_e={class:"d-flex ga-2 flex-wrap justify-end w-100"},we={class:"d-flex justify-space-between w-100"},xe={class:"pl-4 pt-2 mt-2 mr-2 rounded-te-xl bg-blue-darken-3 text-subtitle-1",style:{height:"40px"}},he={class:"pb-md-2 d-flex flex-column flex-md-row flex-lg-row justify-space-around",style:{"line-height":"1.4"}},be={class:"text-nowrap"},ye={class:"text-nowrap"},ke={class:"px-2 d-flex align-center"},De={class:"d-flex flex-row ga-2 justify-end w-100"},Ve={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},Ce={class:"pa-1 flex-grow-1 overflow-y-auto"},$e={key:0,class:"mb-2 text-subtitle-1 text-center bg-grey-lighten-3 py-2 custom-height"},Re={class:"pl-2 d-flex flex-row ga-2 justify-end w-100"},je={__name:"ChangePassword",props:{activeTab:{type:Object,default:()=>({})}},emits:["onClose"],setup(k,{emit:R}){const v="https://peterhsj.github.io/RentalDemo",_=k,B=R,n=g("home"),w=()=>{n.value="changePwd"},z=g(),p=g({orgPassword:"",password:"",password2:""}),D=g({orgPasswordRules:[l=>!!l||"原密碼為必填"],passwordRules:[l=>!!l||"新密碼為必填",l=>/^[a-zA-Z0-9]{8}$/.test(l)||"請輸入有效的新密碼"],passwordRules2:[l=>!!l||"再次輸入新密碼為必填",l=>l===p.value.password||"兩次輸入的新密碼不一致"]}),A=async()=>{const{valid:l}=await z.value.validate();l&&console.log("變更密碼",p.value)},V=()=>{n.value="home"},L=()=>{n.value="subAccount"},I=g([{id:"p01",account:"Frank01",startDate:"2025-10-01",endDate:"2025-10-01"},{id:"p02",account:"Frank02",startDate:"2025-10-01",endDate:"2025-10-01"},{id:"p01",account:"Peter01",startDate:"2025-10-01",endDate:"2025-10-01"},{id:"p02",account:"Peter02",startDate:"2025-10-01",endDate:"2025-10-01"}]),N=g(),u=g({account:"",password:"",password2:"",startDate:"",endDate:""}),F=g(!1),T=g(!1),j=g({accountRules:[l=>!!l||"帳號為必填",l=>/^[a-zA-Z0-9]{8}$/.test(l)||"請輸入有效的帳號"],passwordRules:[l=>!!l||"密碼為必填",l=>/^[a-zA-Z0-9]{8}$/.test(l)||"請輸入有效的密碼"],passwordRules2:[l=>!!l||"再次輸入密碼為必填",l=>l===u.value.password||"兩次輸入的密碼不一致"],startDateRule:[l=>!!l||"請選擇起始日期",l=>{if(!l||!u.value.endDate)return!0;const t=new Date(l),m=new Date(u.value.endDate);return!t||!m?!0:!se(t,m)||"起始日期不能晚於結束日期"}],endDateRule:[l=>!!l||"請選擇結束日期",l=>{if(!l||!u.value.startDate)return!0;const t=new Date(u.value.startDate),m=new Date(l);return!t||!m?!0:!oe(m,t)||"結束日期不能早於起始日期"}]}),J=l=>{n.value="edit",console.log("修改 / 刪除子帳號",l)},K=()=>{n.value="add"},Q=()=>{console.log("刪除子帳號")},W=()=>{console.log("儲存子帳號")},Z=()=>{n.value="subAccount"},M=()=>{B("onClose")};return(l,t)=>{const m=d("v-icon"),U=d("v-avatar"),f=d("v-btn"),r=d("v-col"),x=d("v-row"),q=d("v-container"),P=d("v-card"),C=d("v-text-field"),O=d("v-form"),X=d("v-list-item"),Y=d("v-list"),E=d("v-date-input");return i(),S("div",pe,[n.value==="home"?(i(),h(P,{key:0,variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:a(()=>[o("div",{class:"px-4 py-3 d-flex align-center rental__bg--light-orange rental__header",onClick:M},[e(m,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(U,{image:`${y(v)}${_.activeTab.icon}`,size:"40"},null,8,["image"]),o("span",me,$(_.activeTab.title),1)]),e(q,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:a(()=>[o("div",ge,[e(x,{class:"my-8"},{default:a(()=>[e(r,{cols:"12",md:"6",class:"text-center"},{default:a(()=>[e(f,{color:"light-green-darken-2",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular w-ms-100",height:"40",style:{"min-width":"170px"},onClick:w},{default:a(()=>[...t[10]||(t[10]=[c(" 修改密碼 ",-1)])]),_:1})]),_:1}),e(r,{cols:"12",md:"6",class:"text-center"},{default:a(()=>[e(f,{variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular rental__bg--brown",height:"40",style:{"min-width":"170px"},onClick:L},{default:a(()=>[...t[11]||(t[11]=[c(" 子帳號管理 ",-1)])]),_:1})]),_:1})]),_:1})]),e(x,{"no-gutters":"",class:"flex-0-1"},{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[o("div",ve,[e(f,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:M},{default:a(()=>[...t[12]||(t[12]=[c(" 回選單 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})):b("",!0),n.value==="changePwd"?(i(),h(P,{key:1,variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:a(()=>[o("div",{class:"px-4 py-3 d-flex align-center rental__bg--light-green rental__header",onClick:V},[e(m,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(U,{image:`${y(v)}${_.activeTab.icon}`,size:"40"},null,8,["image"]),t[13]||(t[13]=o("span",{class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"}," 修改密碼 ",-1))]),e(O,{ref_key:"cpFormRef",ref:z,class:"h-100",onSubmit:H(A,["prevent"])},{default:a(()=>[e(q,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:a(()=>[e(x,{dense:"",class:"flex-0-1"},{default:a(()=>[e(r,{cols:"12",md:"4"},{default:a(()=>[e(C,{modelValue:p.value.orgPassword,"onUpdate:modelValue":t[0]||(t[0]=s=>p.value.orgPassword=s),placeholder:"請輸入原密碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:D.value.orgPasswordRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(r,{cols:"12",md:"4"},{default:a(()=>[e(C,{modelValue:p.value.password,"onUpdate:modelValue":t[1]||(t[1]=s=>p.value.password=s),placeholder:"請輸入新密碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:D.value.passwordRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(r,{cols:"12",md:"4"},{default:a(()=>[e(C,{modelValue:p.value.password2,"onUpdate:modelValue":t[2]||(t[2]=s=>p.value.password2=s),placeholder:"再次輸入新密碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:D.value.passwordRules2,required:""},null,8,["modelValue","rules"])]),_:1}),e(r,{cols:"12"},{default:a(()=>[...t[14]||(t[14]=[o("p",{class:"text-subtitle-2 text-red-darken-1"}," 僅英文及數字共 8 碼，不可輸入特殊符號。 ",-1)])]),_:1})]),_:1}),e(x,{"no-gutters":"",class:"flex-0-1"},{default:a(()=>[e(r,{cols:"12",class:"mt-4"},{default:a(()=>[o("div",_e,[e(f,{type:"submit",color:"orange-darken-2",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:a(()=>[...t[15]||(t[15]=[c(" 設定 ",-1)])]),_:1}),e(f,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:V},{default:a(()=>[...t[16]||(t[16]=[c(" 回選單 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})):b("",!0),n.value==="subAccount"?(i(),h(P,{key:2,variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:a(()=>[o("div",{class:"px-4 py-3 d-flex align-center rental__bg--light-orange rental__header",onClick:V},[e(m,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(U,{image:`${y(v)}${_.activeTab.icon}`,size:"40"},null,8,["image"]),t[17]||(t[17]=o("span",{class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"}," 子帳號設定 ",-1))]),e(q,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:a(()=>[e(P,{variant:"flat",class:"bg-white flex-grow-1 overflow-y-auto"},{default:a(()=>[e(Y,null,{default:a(()=>[(i(!0),S(ee,null,te(I.value,s=>(i(),h(X,{class:"pa-0 border",key:s.id},{default:a(()=>[o("div",we,[e(x,{"no-gutters":"",class:"align-end flex-grow-1"},{default:a(()=>[e(r,{md:"4"},{default:a(()=>[o("div",xe,$(s.account),1)]),_:2},1024),e(r,{md:"8",class:"pl-2 text-subtitle-1 text-grey-darken-2"},{default:a(()=>[o("div",he,[o("div",be,$(s.startDate),1),o("div",ye,$(s.endDate),1)])]),_:2},1024)]),_:2},1024),o("div",ke,[e(f,{density:"comfortable",variant:"flat",color:"orange-darken-2",onClick:Pe=>J(s)},{default:a(()=>[...t[18]||(t[18]=[c(" 修改 / 刪除 ",-1)])]),_:1},8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1}),e(x,{"no-gutters":"",class:"flex-0-1"},{default:a(()=>[e(r,{cols:"12",class:"mt-4"},{default:a(()=>[o("div",De,[e(f,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:V},{default:a(()=>[...t[19]||(t[19]=[c(" 回選單 ",-1)])]),_:1}),e(f,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:K},{default:a(()=>[...t[20]||(t[20]=[c(" 新增 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})):b("",!0),n.value==="add"||n.value==="edit"?(i(),h(P,{key:3,variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:a(()=>[o("div",{class:ae(["px-4 py-3 d-flex align-center rental__bg--light-orange rental__header",[n.value==="add"?"rental__bg--light-green":"rental__bg--light-orange"]]),onClick:Z},[e(m,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(U,{image:`${y(v)}${_.activeTab.icon}`,size:"40"},null,8,["image"]),o("span",Ve,$(n.value==="add"?"子帳號新增":"子帳號修改"),1)],2),e(O,{ref_key:"saFormRef",ref:N,class:"h-100",onSubmit:H(W,["prevent"])},{default:a(()=>[e(q,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:a(()=>[o("div",Ce,[e(x,{dense:"",class:"flex-0-1"},{default:a(()=>[e(r,{cols:"12",md:"4"},{default:a(()=>[n.value==="edit"?(i(),S("div",$e," Frank ")):b("",!0),n.value==="add"?(i(),h(C,{key:1,modelValue:u.value.account,"onUpdate:modelValue":t[3]||(t[3]=s=>u.value.account=s),placeholder:"請輸入帳號名稱(英文及數字)",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:j.value.accountRules,required:""},null,8,["modelValue","rules"])):b("",!0)]),_:1}),e(r,{cols:"12",md:"4"},{default:a(()=>[e(C,{modelValue:u.value.password,"onUpdate:modelValue":t[4]||(t[4]=s=>u.value.password=s),type:F.value?"text":"password",placeholder:n.value==="add"?"請輸入新密碼":"請輸入重置新密碼","append-inner-icon":F.value?"fa:far fa-eye":"fa:far fa-eye-slash",rules:j.value.passwordRules,autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2","onClick:appendInner":t[5]||(t[5]=s=>F.value=!F.value),required:""},null,8,["modelValue","type","placeholder","append-inner-icon","rules"])]),_:1}),e(r,{cols:"12",md:"4"},{default:a(()=>[e(C,{modelValue:u.value.password2,"onUpdate:modelValue":t[6]||(t[6]=s=>u.value.password2=s),type:T.value?"text":"password",placeholder:n.value==="add"?"再次輸入新密碼":"再次輸入重置新密碼","append-inner-icon":T.value?"fa:far fa-eye":"fa:far fa-eye-slash",rules:j.value.passwordRules2,autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2","onClick:appendInner":t[7]||(t[7]=s=>T.value=!T.value),required:""},null,8,["modelValue","type","placeholder","append-inner-icon","rules"])]),_:1}),e(r,{cols:"12"},{default:a(()=>[...t[21]||(t[21]=[o("p",{class:"text-subtitle-2 text-red-darken-1"}," 僅英文及數字共 8 碼，不可輸入特殊符號。 ",-1)])]),_:1}),e(r,{cols:"12"},{default:a(()=>[...t[22]||(t[22]=[o("p",{class:"mt-6 mb-2 text-h6 text-blue-darken-3 text-center text-md-left"}," 子帳號使用期限 ",-1)])]),_:1}),e(r,{cols:"12",md:"4"},{default:a(()=>[e(E,{modelValue:u.value.startDate,"onUpdate:modelValue":t[8]||(t[8]=s=>u.value.startDate=s),rules:j.value.startDateRule,"display-format":y(G),"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"起：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format"])]),_:1}),e(r,{cols:"12",md:"4"},{default:a(()=>[e(E,{modelValue:u.value.endDate,"onUpdate:modelValue":t[9]||(t[9]=s=>u.value.endDate=s),rules:j.value.endDateRule,"display-format":y(G),"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"迄：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format"])]),_:1})]),_:1})]),e(x,{"no-gutters":"",class:"flex-0-1"},{default:a(()=>[e(r,{cols:"12",class:"mt-4"},{default:a(()=>[o("div",Re,[n.value==="add"?(i(),h(f,{key:0,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:Z},{default:a(()=>[...t[23]||(t[23]=[c(" 回選單 ",-1)])]),_:1})):b("",!0),n.value==="edit"?(i(),h(f,{key:1,color:"red-darken-1",variant:"flat",class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:Q},{default:a(()=>[...t[24]||(t[24]=[c(" 刪除 ",-1)])]),_:1})):b("",!0),e(f,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:a(()=>[...t[25]||(t[25]=[c(" 設定 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})):b("",!0)])}}},Ue=ne(je,[["__scopeId","data-v-ed1f31b5"]]);export{Ue as C,Te as _,G as f};
