import{_ as X,a as Y}from"./index-BeZC1qu4.js";import{f as z,_ as re,a as ue}from"./Logout.vue_vue_type_script_setup_true_lang-GZwyuyET.js";import{l as H,ad as N,aa as _,n as e,ab as t,v as i,u as $,Y as b,a9 as I,af as S,a5 as G,k as r,a0 as x,F as K,ae as Z,a7 as se,ag as ie,H as de,a3 as ce,S as fe,U as me}from"./vue-core-BRXIlfIm.js";import{g as ee,i as J,d as B,j as te,e as U,f as c,k as Q,h as q,a as A,m as le,n as ae,c as ve}from"./index-R6LO0SYh.js";import{i as ne,e as oe}from"./date-ui-TtEhfnKH.js";import{_ as _e,c as pe}from"./site-B6hlc0tR.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vuetify-ui-CxbL1ZWO.js";const he={id:"search",class:"h-100"},be={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},we={class:"d-flex flex-wrap justify-end w-100"},xe={class:"d-flex flex-column w-100"},ye={class:"ml-3 text-amber-darken-3"},ke={class:"ml-3 text-amber-darken-3"},Ce={class:"ml-3 text-amber-darken-3"},Ve={class:"ml-3 text-amber-darken-3"},De={class:"ml-3 text-amber-darken-3"},$e={class:"ml-3 text-amber-darken-3"},Re={class:"mt-3 d-flex flex-wrap justify-end w-100"},Ie=H({__name:"CounterSearchForm",props:{activeTab:{default:()=>({})}},emits:["close-form"],setup(O,{emit:L}){const y=O,m=L,v="/RentalDemo/",d=r(!1),h=r(""),p=r(""),w=r(!1),F=r(!1),u=r({phone:"",license_plate:""}),R=r(null),k=r({phoneRules:[V=>!V||/^\d{10}$/.test(V)||"請輸入有效的手機號碼"],carRules:[V=>!/[-]/.test(V)||"車號不需輸入 - 符號"]}),C=r([]);async function f(){const{valid:V}=await R.value?.validate()??{valid:!1};if(!V)return;const{phone:n,license_plate:D}=u.value;if(n===""&&D===""){d.value=!0,h.value="無法登記",p.value="請輸入登記手機號碼或登記車號",w.value=!1;return}const l={phone:n,license_plate:D};F.value=!0;const a="/member/grand_hotel/select_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const o=await Y.post(a,l),{returnCode:g,message:s,data:P}=o;g===0?(C.value=P,R.value?.reset()):(d.value=!0,h.value="訊息",p.value=`${s}`,w.value=!1)}catch(o){console.log({err:o})}finally{F.value=!1}}function j(){m("close-form")}function M(){d.value=!1}function T(){d.value=!1}return(V,n)=>{const D=X;return _(),N("div",he,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:t(()=>[i("div",{class:"px-4 py-3 d-flex align-center rental__bg--light-blue rental__header",onClick:j},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(J,{image:`${$(v)}${y.activeTab.icon}`,size:"40"},null,8,["image"]),i("span",be,b(y.activeTab.title),1)]),e(B,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e($(te),{ref_key:"searchFormRef",ref:R,onSubmit:G(f,["prevent"])},{default:t(()=>[e(U,{class:"flex-0-1",dense:""},{default:t(()=>[e(c,{cols:"12",md:"4"},{default:t(()=>[e(Q,{modelValue:u.value.phone,"onUpdate:modelValue":n[0]||(n[0]=l=>u.value.phone=l),autocomplete:"off",color:"blue-darken-2",density:"compact",placeholder:"請輸入登記手機號碼",rules:k.value.phoneRules,variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(Q,{modelValue:u.value.license_plate,"onUpdate:modelValue":n[1]||(n[1]=l=>u.value.license_plate=l),autocomplete:"off","bg-color":"white",color:"blue-darken-2",density:"compact","hide-details":"auto",placeholder:"請輸入車號",rules:k.value.carRules,variant:"outlined",onInput:n[2]||(n[2]=l=>u.value.license_plate=u.value.license_plate.toUpperCase())},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[...n[4]||(n[4]=[i("p",{class:"text-subtitle-2 text-red-darken-1"}," 輸入其中之一即可。 ",-1)])]),_:1}),e(c,{cols:"12"},{default:t(()=>[i("div",we,[e(q,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:t(()=>[...n[5]||(n[5]=[x(" 查詢 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),C.value.length>0?(_(),I(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:t(()=>[e(le,null,{default:t(()=>[(_(!0),N(K,null,Z(C.value,(l,a)=>(_(),I(ae,{key:a,class:"py-2"},{default:t(()=>[i("div",xe,[e(U,{class:"align-center","no-gutters":""},{default:t(()=>[e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:t(()=>[n[6]||(n[6]=i("span",{class:"text-grey-darken-1"},"登記來源",-1)),i("span",ye,b(l.reserve_type==="2"?"臨櫃":"自助"),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:t(()=>[n[7]||(n[7]=i("span",{class:"text-grey-darken-1"},"登記帳號",-1)),i("span",ke,b(l.reserve_acc),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold d-flex flex-nowrap",cols:"12",md:"4"},{default:t(()=>[n[8]||(n[8]=i("div",{class:"text-grey-darken-1 text-no-wrap"},"登記日期",-1)),i("div",Ce,b(l.reserve_date),1)]),_:2},1024)]),_:2},1024),e(U,{class:"align-center mt-3","no-gutters":""},{default:t(()=>[e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:t(()=>[n[9]||(n[9]=i("span",{class:"text-grey-darken-1"},"車　　號",-1)),i("span",Ve,b(l.license_plate),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:t(()=>[n[10]||(n[10]=i("span",{class:"text-grey-darken-1"},"起　　日",-1)),i("span",De,b(l.reserve_start_date),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:t(()=>[n[11]||(n[11]=i("span",{class:"text-grey-darken-1"},"迄　　日",-1)),i("span",$e,b(l.reserve_end_date),1)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})):S("",!0),e(U,{class:"flex-0-1","no-gutters":""},{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[i("div",Re,[e(q,{class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:j},{default:t(()=>[...n[12]||(n[12]=[x(" 回選單 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(D,{modelValue:d.value,"onUpdate:modelValue":n[3]||(n[3]=l=>d.value=l),"is-confirm-btn":w.value,message:p.value,"message-title":h.value,onOnClose:T,onPromptConfirm:M},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Fe={id:"checkin",class:"h-100"},Ue={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},Te={class:"d-flex flex-wrap justify-end w-100"},Pe={class:"d-flex justify-space-between w-100"},Se={class:"mt-3 d-flex flex-wrap justify-end w-100"},Be=H({__name:"SelfCheckinForm",props:{activeTab:{default:()=>({})},userID:{default:0}},emits:["close-form"],setup(O,{emit:L}){const y=O,m=L,v="/RentalDemo/",d=r(!1),h=r(""),p=r(""),w=r(!1),F=r(!1),u=r({phone:"",reserve_start_date:"",reserve_end_date:"",note:""}),R=r(null),k=r(null),C=r({phoneRules:[l=>!!l||"手機號碼為必填",l=>/^\d{10}$/.test(l)||"請輸入有效的手機號碼"],startDateRule:[l=>!!l||"請選擇起始日期",l=>{if(!l||!u.value.reserve_end_date)return!0;const a=new Date(l),o=new Date(u.value.reserve_end_date);return!a||!o?!0:!oe(a,o)||"起始日期不能晚於結束日期"}],endDateRule:[l=>!!l||"請選擇結束日期",l=>{if(!l||!u.value.reserve_start_date)return!0;const a=new Date(u.value.reserve_start_date),o=new Date(l);return!a||!o?!0:!ne(o,a)||"結束日期不能早於起始日期"}]}),f=r([]);async function j(){const{valid:l}=await k.value?.validate()??{valid:!1};if(!l)return;const{phone:a,reserve_start_date:o,reserve_end_date:g,note:s}=u.value,P={phone:a,reserve_start_date:z(o),reserve_end_date:z(g),note:s};if(f.value.length>0&&f.value.find(E=>E.phone===a)){d.value=!0,h.value="無法登記",p.value="重複登記相同手機號碼",w.value=!1;return}f.value.push(P),k.value?.reset()}function M(l){R.value=l,d.value=!0,h.value="刪除登記手機號碼",p.value=`確認刪除 ${l.phone} 申請手機號碼？`,w.value=!0}function T(){const{phone:l}=R.value;if(l){const a=f.value.findIndex(o=>o.phone===l);a!==-1&&f.value.splice(a,1)}}async function V(){const l={userId:y.userID,reserve:f.value};if(f.value.length===0){m("close-form");return}F.value=!0;const a="/member/grand_hotel/self_register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const o=await Y.post(a,l),{returnCode:g,message:s}=o;g===0?m("close-form"):g===-1&&(d.value=!0,h.value="無法登記",p.value=`${s}`,w.value=!1)}catch(o){console.log({err:o})}finally{F.value=!1}}function n(){d.value=!1,T()}function D(){d.value=!1}return(l,a)=>{const o=se("v-date-input"),g=X;return _(),N("div",Fe,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:t(()=>[i("div",{class:"px-4 py-3 d-flex align-center rental__header rental__bg--light-blue",onClick:a[0]||(a[0]=s=>m("close-form"))},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(J,{image:`${$(v)}${y.activeTab.icon}`,size:"40"},null,8,["image"]),i("span",Ue,b(y.activeTab.title),1)]),e(B,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e($(te),{ref_key:"checkinFormRef",ref:k,onSubmit:G(j,["prevent"])},{default:t(()=>[e(U,{class:"flex-0-1",dense:""},{default:t(()=>[e(c,{cols:"12",md:"4"},{default:t(()=>[e(Q,{modelValue:u.value.phone,"onUpdate:modelValue":a[1]||(a[1]=s=>u.value.phone=s),autocomplete:"off",color:"blue-darken-2",density:"compact",placeholder:"請輸入登記手機號碼",required:"",rules:C.value.phoneRules,variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(o,{modelValue:u.value.reserve_start_date,"onUpdate:modelValue":a[2]||(a[2]=s=>u.value.reserve_start_date=s),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":$(z),min:new Date,placeholder:"起：2026-01-01","prepend-icon":"",required:"",rules:C.value.startDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(o,{modelValue:u.value.reserve_end_date,"onUpdate:modelValue":a[3]||(a[3]=s=>u.value.reserve_end_date=s),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":$(z),min:new Date,placeholder:"迄：2026-01-01","prepend-icon":"",required:"",rules:C.value.endDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[i("div",Te,[e(q,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:t(()=>[...a[5]||(a[5]=[x(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),f.value.length>0?(_(),I(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:t(()=>[e(le,null,{default:t(()=>[(_(!0),N(K,null,Z(f.value,s=>(_(),I(ae,{key:s.phone,class:"py-2"},{default:t(()=>[i("div",Pe,[e(U,{class:"align-center flex-grow-1","no-gutters":""},{default:t(()=>[e(c,{class:"text-h5 font-weight-bold text-grey-darken-1",cols:"12",md:"4"},{default:t(()=>[x(b(s.phone),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:t(()=>[x(b(s.reserve_start_date),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:t(()=>[x(b(s.reserve_end_date),1)]),_:2},1024)]),_:2},1024),i("div",null,[e(q,{class:"text-red-darken-1",density:"comfortable",icon:"fa:fas fa-times-circle",variant:"flat",onClick:P=>M(s)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):S("",!0),e(U,{class:"flex-0-1","no-gutters":""},{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[i("div",Se,[e(q,{class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:V},{default:t(()=>[...a[6]||(a[6]=[x(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{modelValue:d.value,"onUpdate:modelValue":a[4]||(a[4]=s=>d.value=s),"is-confirm-btn":w.value,message:p.value,"message-title":h.value,onOnClose:D,onPromptConfirm:n},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Le={id:"checkin",class:"h-100"},je={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},ze={class:"d-flex flex-wrap justify-end w-100"},qe={class:"d-flex justify-space-between w-100"},Me={class:"mt-3 d-flex flex-wrap justify-end w-100"},Ne=H({__name:"CheckinForm",props:{activeTab:{default:()=>({})},userID:{default:0}},emits:["close-form"],setup(O,{emit:L}){const y=O,m=L,v="/RentalDemo/",d=r(!1),h=r(""),p=r(""),w=r(!1),F=r(!1),u=r({license_plate:"",reserve_start_date:"",reserve_end_date:"",note:""}),R=r(null),k=r(null),C=r({carRules:[l=>!!l||"車號為必填",l=>!/[-]/.test(l)||"車號不需輸入 - 符號"],startDateRule:[l=>!!l||"請選擇起始日期",l=>{if(!l||!u.value.reserve_end_date)return!0;const a=new Date(l),o=new Date(u.value.reserve_end_date);return!a||!o?!0:!oe(a,o)||"起始日期不能晚於結束日期"}],endDateRule:[l=>!!l||"請選擇結束日期",l=>{if(!l||!u.value.reserve_start_date)return!0;const a=new Date(u.value.reserve_start_date),o=new Date(l);return!a||!o?!0:!ne(o,a)||"結束日期不能早於起始日期"}]}),f=r([]);async function j(){const{valid:l}=await R.value?.validate()??{valid:!1};if(!l)return;const{license_plate:a,reserve_start_date:o,reserve_end_date:g,note:s}=u.value,P={license_plate:a,reserve_start_date:z(o),reserve_end_date:z(g),note:s};if(f.value.length>0&&f.value.find(E=>E.license_plate===a)){d.value=!0,h.value="無法登記",p.value="本車號已登記，須先刪除原本登記日期後才能再次申請。",w.value=!1;return}f.value.push(P),R.value?.reset()}function M(l){k.value=l,d.value=!0,h.value="刪除登記車號",p.value=`確認刪除 ${l.license_plate} 申請車號？`,w.value=!0}function T(){const{license_plate:l}=k.value||{};if(l){const a=f.value.findIndex(o=>o.license_plate===l);a!==-1&&f.value.splice(a,1)}}async function V(){const l={userId:y.userID,reserve:f.value};if(f.value.length===0){m("close-form");return}F.value=!0;const a="/member/grand_hotel/register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const o=await Y.post(a,l),{returnCode:g,message:s}=o;g===0?m("close-form"):g===-1&&(h.value="無法登記",p.value=`${s}`,w.value=!1,d.value=!0)}catch(o){console.log({err:o})}finally{F.value=!1}}function n(){d.value=!1,T()}function D(){d.value=!1}return(l,a)=>{const o=se("v-date-input"),g=X;return _(),N("div",Le,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:t(()=>[i("div",{class:"px-4 py-3 d-flex align-center rental__header bg-orange-lighten-5",onClick:a[0]||(a[0]=s=>m("close-form"))},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(J,{image:`${$(v)}${y.activeTab.icon}`,size:"40"},null,8,["image"]),i("span",je,b(y.activeTab.title),1)]),e(B,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e($(te),{ref_key:"checkinFormRef",ref:R,onSubmit:G(j,["prevent"])},{default:t(()=>[e(U,{class:"flex-0-1",dense:""},{default:t(()=>[e(c,{cols:"12",md:"4"},{default:t(()=>[e(Q,{modelValue:u.value.license_plate,"onUpdate:modelValue":a[1]||(a[1]=s=>u.value.license_plate=s),modelModifiers:{trim:!0},autocomplete:"off","bg-color":"white",color:"blue-darken-2",density:"compact",placeholder:"請輸入車號",required:"",rules:C.value.carRules,variant:"outlined",onInput:a[2]||(a[2]=s=>u.value.license_plate=u.value.license_plate.toUpperCase())},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(o,{modelValue:u.value.reserve_start_date,"onUpdate:modelValue":a[3]||(a[3]=s=>u.value.reserve_start_date=s),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":$(z),min:new Date,placeholder:"起：2026-01-01","prepend-icon":"",required:"",rules:C.value.startDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(o,{modelValue:u.value.reserve_end_date,"onUpdate:modelValue":a[4]||(a[4]=s=>u.value.reserve_end_date=s),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":$(z),min:new Date,placeholder:"迄：2026-01-01","prepend-icon":"",required:"",rules:C.value.endDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[i("div",ze,[e(q,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:t(()=>[...a[6]||(a[6]=[x(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),f.value.length>0?(_(),I(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:t(()=>[e(le,null,{default:t(()=>[(_(!0),N(K,null,Z(f.value,s=>(_(),I(ae,{key:s.license_plate,class:"py-2"},{default:t(()=>[i("div",qe,[e(U,{class:"align-center flex-grow-1","no-gutters":""},{default:t(()=>[e(c,{class:"text-h5 font-weight-bold text-grey-darken-1",cols:"12",md:"4"},{default:t(()=>[x(b(s.license_plate),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:t(()=>[x(b(s.reserve_start_date),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:t(()=>[x(b(s.reserve_end_date),1)]),_:2},1024)]),_:2},1024),i("div",null,[e(q,{class:"text-red-darken-1",density:"comfortable",icon:"fa:fas fa-times-circle",variant:"flat",onClick:P=>M(s)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):S("",!0),e(U,{class:"flex-0-1","no-gutters":""},{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[i("div",Me,[e(q,{class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:V},{default:t(()=>[...a[7]||(a[7]=[x(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{modelValue:d.value,"onUpdate:modelValue":a[5]||(a[5]=s=>d.value=s),"is-confirm-btn":w.value,message:p.value,"message-title":h.value,onOnClose:D,onPromptConfirm:n},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Ae={id:"parkingView",class:"d-flex flex-column bg-grey-lighten-4 h-100"},Oe={class:"pt-2 d-flex align-center"},Ee={class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"},Qe=H({__name:"counter",setup(O){const L="/RentalDemo/",y=ie(),m=r(null),v=r(null),d=r(!1),h=r(!1),p=r(!1),w=r(""),F=r(""),u=r(!1);function R(n){v.value=n,d.value=!0,n.value==="logout"&&(localStorage.removeItem("memberInfo"),m.value=null)}function k(){v.value=null,d.value=!1}function C(){v.value=null,d.value=!1,y.push("/CounterLogin")}function f(){v.value=null,d.value=!1}function j(){p.value=!1}function M(){p.value=!1}function T(){h.value=window.innerWidth<=960}function V(){const n=localStorage.getItem("memberInfo");n?m.value=JSON.parse(n):y.push("/counterLogin")}return de(()=>{V(),T(),window.addEventListener("resize",T)}),ce(()=>{window.removeEventListener("resize",T)}),(n,D)=>{const l=_e,a=Ne,o=Be,g=Ie,s=re,P=ue,W=X;return _(),N("div",Ae,[fe(e(B,{class:"pb-1 rental rental__wrapper"},{default:t(()=>[e(A,{class:"pa-2",elevation:"4",variant:"elevated"},{default:t(()=>[e(ve,{alt:"Parking Image",color:"surface-variant",cover:"",height:"200",src:`${$(L)}/images/hotel_01.png`,width:"100%"},{default:t(()=>[...D[1]||(D[1]=[i("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},[x("住宿車輛"),i("br"),x("預約及臨櫃登記")],-1)])]),_:1},8,["src"]),i("div",Oe,[e(J,{image:`${$(L)}/images/profile.svg`,size:"30"},null,8,["image"]),i("span",Ee,b(m.value&&m.value.acc_name)+" 您好！ ",1)])]),_:1}),d.value?S("",!0):(_(),I(l,{key:0,"tab-list":$(pe),onSetActiveTab:R},null,8,["tab-list"]))]),_:1},512),[[me,!h.value||!d.value]]),v.value?.value==="counterCheckIn"?(_(),I(B,{key:0,id:"counterCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(a,{"active-tab":v.value,"user-id":m.value&&m.value.userId,onCloseForm:k},null,8,["active-tab","user-id"])]),_:1})):S("",!0),v.value?.value==="selfCheckIn"?(_(),I(B,{key:1,id:"selfCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(o,{"active-tab":v.value,"user-id":m.value&&m.value.userId,onCloseForm:k},null,8,["active-tab","user-id"])]),_:1})):S("",!0),v.value?.value==="search"?(_(),I(B,{key:2,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(g,{"active-tab":v.value,onCloseForm:k},null,8,["active-tab"])]),_:1})):S("",!0),v.value?.value==="logout"?(_(),I(B,{key:3,id:"logout",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(s,{"active-tab":v.value,onOnLogin:C},null,8,["active-tab"])]),_:1})):S("",!0),v.value?.value==="changePassword"&&m.value?(_(),I(B,{key:4,id:"changePassword",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(P,{"active-tab":v.value,"user-info":m.value,onOnClose:f},null,8,["active-tab","user-info"])]),_:1})):S("",!0),e(W,{modelValue:p.value,"onUpdate:modelValue":D[0]||(D[0]=E=>p.value=E),"is-confirm-btn":u.value,message:F.value,"message-title":w.value,onOnClose:M,onPromptConfirm:j},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),et=ge(Qe,[["__scopeId","data-v-68a0846c"]]);export{et as default};
