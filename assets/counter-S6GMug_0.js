import{_ as J,a as X}from"./index-Gh-ZLlLI.js";import{f as j,_ as re,a as ue}from"./Logout.vue_vue_type_script_setup_true_lang-DUSyTu3y.js";import{l as W,ad as N,aa as h,n as e,ab as l,v as d,u as D,Y as y,a9 as I,af as P,a5 as G,k as r,a0 as k,F as K,ae as Z,a7 as se,ag as de,H as ie,a3 as ce,S as fe,U as me}from"./vue-core-BRXIlfIm.js";import{g as ee,i as Y,d as S,j as te,e as U,f as c,k as H,h as B,a as A,m as le,n as ae,c as ve}from"./index-Dzbugahw.js";import{i as ne,e as oe}from"./date-ui-TtEhfnKH.js";import{_ as _e,c as pe}from"./site-CIM0jfM-.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vuetify-ui-CxbL1ZWO.js";const he={id:"search",class:"h-100"},be={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},we={class:"d-flex flex-wrap justify-end w-100"},xe={class:"d-flex flex-column w-100"},ye={class:"ml-3 text-amber-darken-3"},ke={class:"ml-3 text-amber-darken-3"},Ce={class:"ml-3 text-amber-darken-3"},Ve={class:"ml-3 text-amber-darken-3"},De={class:"ml-3 text-amber-darken-3"},$e={class:"ml-3 text-amber-darken-3"},Re={class:"mt-3 ml-1 d-flex ga-2 flex-row justify-end w-100"},Ie=W({__name:"CounterSearchForm",props:{activeTab:{default:()=>({})}},emits:["close-form"],setup(O,{emit:L}){const C=O,_=L,p="/RentalDemo/",i=r(!1),b=r(""),g=r(""),w=r(!1),$=r(!1),u=r({phone:"",license_plate:""}),R=r(null),V=r({phoneRules:[m=>!m||/^\d{10}$/.test(m)||"請輸入有效的手機號碼"],carRules:[m=>!/[-]/.test(m)||"車號不需輸入 - 符號"]}),x=r([]);async function f(){const{phone:m,license_plate:s}=u.value;if(!m&&!s){i.value=!0,b.value="無法登記",g.value="請輸入登記手機號碼或登記車號",w.value=!1;return}const{valid:a}=await R.value?.validate()??{valid:!1};if(!a)return;const t={phone:m,license_plate:s};$.value=!0;const o="/member/grand_hotel/select_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const v=await X.post(o,t),{returnCode:n,message:T,data:E}=v;n===0?(x.value=E,R.value?.reset()):(i.value=!0,b.value="訊息",g.value=`${T}`,w.value=!1)}catch(v){console.log({err:v})}finally{$.value=!1}}async function q(){const m=x.value[0];if(!m)return;const s={selfId:m.selfId};$.value=!0;const a="/member/grand_hotel/delete_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const t=await X.post(a,s),{returnCode:o,message:v}=t;o===0?(x.value=[],i.value=!0,b.value="訊息",g.value=`${v}`,w.value=!1):(i.value=!0,b.value="訊息",g.value=`${v}`,w.value=!1)}catch(t){console.log({err:t})}finally{$.value=!1}}function z(){_("close-form")}function F(){i.value=!1}function M(){i.value=!1}return(m,s)=>{const a=J;return h(),N("div",he,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:l(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__bg--light-blue rental__header",onClick:z},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(Y,{image:`${D(p)}${C.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",be,y(C.activeTab.title),1)]),e(S,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:l(()=>[e(D(te),{ref_key:"searchFormRef",ref:R,onSubmit:G(f,["prevent"])},{default:l(()=>[e(U,{class:"flex-0-1",dense:""},{default:l(()=>[e(c,{cols:"12",md:"4"},{default:l(()=>[e(H,{modelValue:u.value.phone,"onUpdate:modelValue":s[0]||(s[0]=t=>u.value.phone=t),autocomplete:"off",color:"blue-darken-2",density:"compact",placeholder:"請輸入登記手機號碼",rules:V.value.phoneRules,variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(H,{modelValue:u.value.license_plate,"onUpdate:modelValue":s[1]||(s[1]=t=>u.value.license_plate=t),autocomplete:"off","bg-color":"white",color:"blue-darken-2",density:"compact","hide-details":"auto",placeholder:"請輸入車號",rules:V.value.carRules,variant:"outlined",onInput:s[2]||(s[2]=t=>u.value.license_plate=u.value.license_plate.toUpperCase())},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:l(()=>[...s[4]||(s[4]=[d("p",{class:"text-subtitle-2 text-red-darken-1"}," 輸入其中之一即可。 ",-1)])]),_:1}),e(c,{cols:"12"},{default:l(()=>[d("div",we,[e(B,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:l(()=>[...s[5]||(s[5]=[k(" 查詢 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),x.value.length>0?(h(),I(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:l(()=>[e(le,null,{default:l(()=>[(h(!0),N(K,null,Z(x.value,(t,o)=>(h(),I(ae,{key:o,class:"py-2"},{default:l(()=>[d("div",xe,[e(U,{class:"align-center","no-gutters":""},{default:l(()=>[e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[s[6]||(s[6]=d("span",{class:"text-grey-darken-1"},"登記來源",-1)),d("span",ye,y(t.reserve_type==="2"?"臨櫃":"自助"),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[s[7]||(s[7]=d("span",{class:"text-grey-darken-1"},"登記帳號",-1)),d("span",ke,y(t.reserve_acc),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold d-flex flex-nowrap",cols:"12",md:"4"},{default:l(()=>[s[8]||(s[8]=d("div",{class:"text-grey-darken-1 text-no-wrap"},"登記日期",-1)),d("div",Ce,y(t.reserve_date),1)]),_:2},1024)]),_:2},1024),e(U,{class:"align-center mt-3","no-gutters":""},{default:l(()=>[e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[s[9]||(s[9]=d("span",{class:"text-grey-darken-1"},"車　　號",-1)),d("span",Ve,y(t.license_plate),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[s[10]||(s[10]=d("span",{class:"text-grey-darken-1"},"起　　日",-1)),d("span",De,y(t.reserve_start_date),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[s[11]||(s[11]=d("span",{class:"text-grey-darken-1"},"迄　　日",-1)),d("span",$e,y(t.reserve_end_date),1)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})):P("",!0),e(U,{class:"flex-0-1","no-gutters":""},{default:l(()=>[e(c,{cols:"12"},{default:l(()=>[d("div",Re,[e(B,{class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",color:"red-darken-1",disabled:x.value.length===0,height:"40",variant:"flat",onClick:q},{default:l(()=>[...s[12]||(s[12]=[k(" 刪除 ",-1)])]),_:1},8,["disabled"]),e(B,{class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:z},{default:l(()=>[...s[13]||(s[13]=[k(" 回選單 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(a,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=t=>i.value=t),"is-confirm-btn":w.value,message:g.value,"message-title":b.value,onOnClose:M,onPromptConfirm:F},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Ue={id:"checkin",class:"h-100"},Fe={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},Te={class:"d-flex flex-wrap justify-end w-100"},Pe={class:"d-flex justify-space-between w-100"},Se={class:"mt-3 d-flex flex-wrap justify-end w-100"},Be=W({__name:"SelfCheckinForm",props:{activeTab:{default:()=>({})},userID:{default:0}},emits:["close-form"],setup(O,{emit:L}){const C=O,_=L,p="/RentalDemo/",i=r(!1),b=r(""),g=r(""),w=r(!1),$=r(!1),u=r({phone:"",reserve_start_date:"",reserve_end_date:"",note:""}),R=r(null),V=r(null),x=r({phoneRules:[a=>!!a||"手機號碼為必填",a=>/^\d{10}$/.test(a)||"請輸入有效的手機號碼"],startDateRule:[a=>!!a||"請選擇起始日期",a=>{if(!a||!u.value.reserve_end_date)return!0;const t=new Date(a),o=new Date(u.value.reserve_end_date);return!t||!o?!0:!oe(t,o)||"起始日期不能晚於結束日期"}],endDateRule:[a=>!!a||"請選擇結束日期",a=>{if(!a||!u.value.reserve_start_date)return!0;const t=new Date(u.value.reserve_start_date),o=new Date(a);return!t||!o?!0:!ne(o,t)||"結束日期不能早於起始日期"}]}),f=r([]);async function q(){const{valid:a}=await V.value?.validate()??{valid:!1};if(!a)return;const{phone:t,reserve_start_date:o,reserve_end_date:v,note:n}=u.value,T={phone:t,reserve_start_date:j(o),reserve_end_date:j(v),note:n};if(f.value.length>0&&f.value.find(Q=>Q.phone===t)){i.value=!0,b.value="無法登記",g.value="重複登記相同手機號碼",w.value=!1;return}f.value.push(T),V.value?.reset()}function z(a){R.value=a,i.value=!0,b.value="刪除登記手機號碼",g.value=`確認刪除 ${a.phone} 申請手機號碼？`,w.value=!0}function F(){const{phone:a}=R.value;if(a){const t=f.value.findIndex(o=>o.phone===a);t!==-1&&f.value.splice(t,1)}}async function M(){const a={userId:C.userID,reserve:f.value};if(f.value.length===0){_("close-form");return}$.value=!0;const t="/member/grand_hotel/self_register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const o=await X.post(t,a),{returnCode:v,message:n}=o;v===0?_("close-form"):v===-1&&(i.value=!0,b.value="無法登記",g.value=`${n}`,w.value=!1)}catch(o){console.log({err:o})}finally{$.value=!1}}function m(){i.value=!1,F()}function s(){i.value=!1}return(a,t)=>{const o=se("v-date-input"),v=J;return h(),N("div",Ue,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:l(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__header rental__bg--light-blue",onClick:t[0]||(t[0]=n=>_("close-form"))},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(Y,{image:`${D(p)}${C.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",Fe,y(C.activeTab.title),1)]),e(S,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:l(()=>[e(D(te),{ref_key:"checkinFormRef",ref:V,onSubmit:G(q,["prevent"])},{default:l(()=>[e(U,{class:"flex-0-1",dense:""},{default:l(()=>[e(c,{cols:"12",md:"4"},{default:l(()=>[e(H,{modelValue:u.value.phone,"onUpdate:modelValue":t[1]||(t[1]=n=>u.value.phone=n),autocomplete:"off",color:"blue-darken-2",density:"compact",placeholder:"請輸入登記手機號碼",required:"",rules:x.value.phoneRules,variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(o,{modelValue:u.value.reserve_start_date,"onUpdate:modelValue":t[2]||(t[2]=n=>u.value.reserve_start_date=n),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":D(j),min:new Date,placeholder:"起：2026-01-01","prepend-icon":"",required:"",rules:x.value.startDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(o,{modelValue:u.value.reserve_end_date,"onUpdate:modelValue":t[3]||(t[3]=n=>u.value.reserve_end_date=n),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":D(j),min:new Date,placeholder:"迄：2026-01-01","prepend-icon":"",required:"",rules:x.value.endDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12"},{default:l(()=>[d("div",Te,[e(B,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:l(()=>[...t[5]||(t[5]=[k(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),f.value.length>0?(h(),I(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:l(()=>[e(le,null,{default:l(()=>[(h(!0),N(K,null,Z(f.value,n=>(h(),I(ae,{key:n.phone,class:"py-2"},{default:l(()=>[d("div",Pe,[e(U,{class:"align-center flex-grow-1","no-gutters":""},{default:l(()=>[e(c,{class:"text-h5 font-weight-bold text-grey-darken-1",cols:"12",md:"4"},{default:l(()=>[k(y(n.phone),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:l(()=>[k(y(n.reserve_start_date),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:l(()=>[k(y(n.reserve_end_date),1)]),_:2},1024)]),_:2},1024),d("div",null,[e(B,{class:"text-red-darken-1",density:"comfortable",icon:"fa:fas fa-times-circle",variant:"flat",onClick:T=>z(n)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):P("",!0),e(U,{class:"flex-0-1","no-gutters":""},{default:l(()=>[e(c,{cols:"12"},{default:l(()=>[d("div",Se,[e(B,{class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:M},{default:l(()=>[...t[6]||(t[6]=[k(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{modelValue:i.value,"onUpdate:modelValue":t[4]||(t[4]=n=>i.value=n),"is-confirm-btn":w.value,message:g.value,"message-title":b.value,onOnClose:s,onPromptConfirm:m},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Le={id:"checkin",class:"h-100"},ze={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},je={class:"d-flex flex-wrap justify-end w-100"},qe={class:"d-flex justify-space-between w-100"},Me={class:"mt-3 d-flex flex-wrap justify-end w-100"},Ne=W({__name:"CheckinForm",props:{activeTab:{default:()=>({})},userID:{default:0}},emits:["close-form"],setup(O,{emit:L}){const C=O,_=L,p="/RentalDemo/",i=r(!1),b=r(""),g=r(""),w=r(!1),$=r(!1),u=r({license_plate:"",reserve_start_date:"",reserve_end_date:"",note:""}),R=r(null),V=r(null),x=r({carRules:[a=>!!a||"車號為必填",a=>!/[-]/.test(a)||"車號不需輸入 - 符號"],startDateRule:[a=>!!a||"請選擇起始日期",a=>{if(!a||!u.value.reserve_end_date)return!0;const t=new Date(a),o=new Date(u.value.reserve_end_date);return!t||!o?!0:!oe(t,o)||"起始日期不能晚於結束日期"}],endDateRule:[a=>!!a||"請選擇結束日期",a=>{if(!a||!u.value.reserve_start_date)return!0;const t=new Date(u.value.reserve_start_date),o=new Date(a);return!t||!o?!0:!ne(o,t)||"結束日期不能早於起始日期"}]}),f=r([]);async function q(){const{valid:a}=await R.value?.validate()??{valid:!1};if(!a)return;const{license_plate:t,reserve_start_date:o,reserve_end_date:v,note:n}=u.value,T={license_plate:t,reserve_start_date:j(o),reserve_end_date:j(v),note:n};if(f.value.length>0&&f.value.find(Q=>Q.license_plate===t)){i.value=!0,b.value="無法登記",g.value="本車號已登記，須先刪除原本登記日期後才能再次申請。",w.value=!1;return}f.value.push(T),R.value?.reset()}function z(a){V.value=a,i.value=!0,b.value="刪除登記車號",g.value=`確認刪除 ${a.license_plate} 申請車號？`,w.value=!0}function F(){const{license_plate:a}=V.value||{};if(a){const t=f.value.findIndex(o=>o.license_plate===a);t!==-1&&f.value.splice(t,1)}}async function M(){const a={userId:C.userID,reserve:f.value};if(f.value.length===0){_("close-form");return}$.value=!0;const t="/member/grand_hotel/register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const o=await X.post(t,a),{returnCode:v,message:n}=o;v===0?_("close-form"):v===-1&&(b.value="無法登記",g.value=`${n}`,w.value=!1,i.value=!0)}catch(o){console.log({err:o})}finally{$.value=!1}}function m(){i.value=!1,F()}function s(){i.value=!1}return(a,t)=>{const o=se("v-date-input"),v=J;return h(),N("div",Le,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:l(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__header bg-orange-lighten-5",onClick:t[0]||(t[0]=n=>_("close-form"))},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(Y,{image:`${D(p)}${C.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",ze,y(C.activeTab.title),1)]),e(S,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:l(()=>[e(D(te),{ref_key:"checkinFormRef",ref:R,onSubmit:G(q,["prevent"])},{default:l(()=>[e(U,{class:"flex-0-1",dense:""},{default:l(()=>[e(c,{cols:"12",md:"4"},{default:l(()=>[e(H,{modelValue:u.value.license_plate,"onUpdate:modelValue":t[1]||(t[1]=n=>u.value.license_plate=n),modelModifiers:{trim:!0},autocomplete:"off","bg-color":"white",color:"blue-darken-2",density:"compact",placeholder:"請輸入車號",required:"",rules:x.value.carRules,variant:"outlined",onInput:t[2]||(t[2]=n=>u.value.license_plate=u.value.license_plate.toUpperCase())},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(o,{modelValue:u.value.reserve_start_date,"onUpdate:modelValue":t[3]||(t[3]=n=>u.value.reserve_start_date=n),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":D(j),min:new Date,placeholder:"起：2026-01-01","prepend-icon":"",required:"",rules:x.value.startDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(o,{modelValue:u.value.reserve_end_date,"onUpdate:modelValue":t[4]||(t[4]=n=>u.value.reserve_end_date=n),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":D(j),min:new Date,placeholder:"迄：2026-01-01","prepend-icon":"",required:"",rules:x.value.endDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12"},{default:l(()=>[d("div",je,[e(B,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:l(()=>[...t[6]||(t[6]=[k(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),f.value.length>0?(h(),I(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:l(()=>[e(le,null,{default:l(()=>[(h(!0),N(K,null,Z(f.value,n=>(h(),I(ae,{key:n.license_plate,class:"py-2"},{default:l(()=>[d("div",qe,[e(U,{class:"align-center flex-grow-1","no-gutters":""},{default:l(()=>[e(c,{class:"text-h5 font-weight-bold text-grey-darken-1",cols:"12",md:"4"},{default:l(()=>[k(y(n.license_plate),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:l(()=>[k(y(n.reserve_start_date),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:l(()=>[k(y(n.reserve_end_date),1)]),_:2},1024)]),_:2},1024),d("div",null,[e(B,{class:"text-red-darken-1",density:"comfortable",icon:"fa:fas fa-times-circle",variant:"flat",onClick:T=>z(n)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):P("",!0),e(U,{class:"flex-0-1","no-gutters":""},{default:l(()=>[e(c,{cols:"12"},{default:l(()=>[d("div",Me,[e(B,{class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:M},{default:l(()=>[...t[7]||(t[7]=[k(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{modelValue:i.value,"onUpdate:modelValue":t[5]||(t[5]=n=>i.value=n),"is-confirm-btn":w.value,message:g.value,"message-title":b.value,onOnClose:s,onPromptConfirm:m},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Ae={id:"parkingView",class:"d-flex flex-column bg-grey-lighten-4 h-100"},Oe={class:"pt-2 d-flex align-center"},Ee={class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"},Qe=W({__name:"counter",setup(O){const L="/RentalDemo/",C=de(),_=r(null),p=r(null),i=r(!1),b=r(!1),g=r(!1),w=r(""),$=r(""),u=r(!1);function R(m){p.value=m,i.value=!0,m.value==="logout"&&(localStorage.removeItem("memberInfo"),_.value=null)}function V(){p.value=null,i.value=!1}function x(){p.value=null,i.value=!1,C.push("/CounterLogin")}function f(){p.value=null,i.value=!1}function q(){g.value=!1}function z(){g.value=!1}function F(){b.value=window.innerWidth<=960}function M(){const m=localStorage.getItem("memberInfo");m?_.value=JSON.parse(m):C.push("/counterLogin")}return ie(()=>{M(),F(),window.addEventListener("resize",F)}),ce(()=>{window.removeEventListener("resize",F)}),(m,s)=>{const a=_e,t=Ne,o=Be,v=Ie,n=re,T=ue,E=J;return h(),N("div",Ae,[fe(e(S,{class:"pb-1 rental rental__wrapper"},{default:l(()=>[e(A,{class:"pa-2",elevation:"4",variant:"elevated"},{default:l(()=>[e(ve,{alt:"Parking Image",color:"surface-variant",cover:"",height:"200",src:`${D(L)}/images/hotel_01.png`,width:"100%"},{default:l(()=>[...s[1]||(s[1]=[d("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},[k("住宿車輛"),d("br"),k("預約及臨櫃登記")],-1)])]),_:1},8,["src"]),d("div",Oe,[e(Y,{image:`${D(L)}/images/profile.svg`,size:"30"},null,8,["image"]),d("span",Ee,y(_.value&&_.value.acc_name)+" 您好！ ",1)])]),_:1}),i.value?P("",!0):(h(),I(a,{key:0,"tab-list":D(pe),onSetActiveTab:R},null,8,["tab-list"]))]),_:1},512),[[me,!b.value||!i.value]]),p.value?.value==="counterCheckIn"?(h(),I(S,{key:0,id:"counterCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(t,{"active-tab":p.value,"user-id":_.value&&_.value.userId,onCloseForm:V},null,8,["active-tab","user-id"])]),_:1})):P("",!0),p.value?.value==="selfCheckIn"?(h(),I(S,{key:1,id:"selfCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(o,{"active-tab":p.value,"user-id":_.value&&_.value.userId,onCloseForm:V},null,8,["active-tab","user-id"])]),_:1})):P("",!0),p.value?.value==="search"?(h(),I(S,{key:2,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(v,{"active-tab":p.value,onCloseForm:V},null,8,["active-tab"])]),_:1})):P("",!0),p.value?.value==="logout"?(h(),I(S,{key:3,id:"logout",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(n,{"active-tab":p.value,onOnLogin:x},null,8,["active-tab"])]),_:1})):P("",!0),p.value?.value==="changePassword"&&_.value?(h(),I(S,{key:4,id:"changePassword",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(T,{"active-tab":p.value,"user-info":_.value,onOnClose:f},null,8,["active-tab","user-info"])]),_:1})):P("",!0),e(E,{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=Q=>g.value=Q),"is-confirm-btn":u.value,message:$.value,"message-title":w.value,onOnClose:z,onPromptConfirm:q},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),et=ge(Qe,[["__scopeId","data-v-68a0846c"]]);export{et as default};
