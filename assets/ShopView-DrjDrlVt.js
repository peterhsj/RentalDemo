import{h as s,H as I,a5 as n,ac as z,a7 as f,n as t,ad as a,v as o,u as C,a6 as g,af as k,Z as v,a2 as J,F as X,ae as Q,V as O,a0 as W,P as Z,Q as G,ah as K}from"./vue-core-CsbKmrRr.js";import{_ as Y,s as ee}from"./TabList-C060IOAN.js";import{_ as E}from"./PromptDialog-TYGxE2y4.js";import{f as H,_ as te,C as ae}from"./ChangePassword-BGg5MO41.js";import{i as le,e as oe}from"./date-DE_Uv9Lq.js";import{_ as se}from"./index-Y9Fr-fVe.js";import"./vuetify-CHkSyw28.js";const ne={id:"parkingDeduction",class:"h-100"},re={class:"d-flex justify-center my-8"},ie={class:"ma-4 d-flex align-center justify-space-around w-100"},ue={class:"mt-3 d-flex flex-wrap justify-center w-100"},de={__name:"ParkingDeduction",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(q,{emit:B}){const j=B,r="https://peterhsj.github.io/RentalDemo",d=s(!1),V=s(""),x=s(""),$=s(!1),T=s(),m=s({carNumber:""}),F=s({carRules:[i=>!!i||"車號為必填"]}),b=s(!1),_=s([]);I(()=>{});const P=async()=>{console.log("送出表單",m.value.carNumber);const{valid:i}=await T.value.validate();if(!i)return;const{carNumber:e}=m.value;_.value=[{id:"p01",phoneNumber:"",carNumber:"ABC-1234",startDate:"2025-10-01 12:30:29",endDate:"2025-10-01"}],d.value=!0,V.value="折抵已經超過上限",x.value="AXN-1234 已當次折抵過，已無法再進行折抵。",$.value=!1},h=i=>{console.log("選擇折抵時數",i)},L=()=>{console.log("選擇折抵時數")},D=()=>{j("closeForm")},c=()=>{d.value=!1,delParkingConfirm()},l=()=>{d.value=!1};return(i,e)=>{const N=n("v-avatar"),u=n("v-btn"),U=n("v-text-field"),w=n("v-col"),S=n("v-row"),A=n("v-form"),R=n("v-card"),M=n("v-container");return f(),z("div",ne,[t(R,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:a(()=>[o("div",{class:"px-4 py-3 d-flex align-center rental__header bg-orange-lighten-5",onClick:D},[t(N,{image:`${C(r)}/images/profile.svg`,size:"30"},null,8,["image"]),e[5]||(e[5]=o("span",{class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"}," 松鶴餐廳 [ John Doe ] ",-1))]),t(M,{class:"pb-2 d-flex flex-column",style:{height:"calc(100% - 64px)"}},{default:a(()=>[o("div",re,[t(N,{color:"blue-darken-3",size:"140"},{default:a(()=>[...e[6]||(e[6]=[o("span",{class:"text-h3"},"297",-1)])]),_:1})]),t(A,{ref_key:"formRef",ref:T},{default:a(()=>[t(S,{dense:""},{default:a(()=>[t(w,{cols:"12"},{default:a(()=>[t(U,{modelValue:m.value.carNumber,"onUpdate:modelValue":e[0]||(e[0]=y=>m.value.carNumber=y),rules:F.value.carRules,placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",class:"pr-0","bg-color":"white",required:""},{"append-inner":a(()=>[t(u,{type:"button",color:"blue-darken-3",variant:"flat",class:"mr-n3 px-3",height:"40",onClick:P},{default:a(()=>[...e[7]||(e[7]=[v(" 查詢 ",-1)])]),_:1})]),_:1},8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},512),_.value.length>0?(f(),g(R,{key:0,variant:"flat",class:"pa-2 rounded-lg bg-blue-darken-3 text-center"},{default:a(()=>[...e[8]||(e[8]=[o("p",null,"入場資訊",-1),o("p",{class:"py-2 text-h6 font-weight-bold"},"AXN-1234",-1),o("p",null,"2025-10-01 12:30:29",-1)])]),_:1})):k("",!0),_.value.length>0?(f(),g(R,{key:1,variant:"outlined",class:"mt-5 pa-2 d-flex flex-column align-center rounded-lg bordered border-md bg-white"},{default:a(()=>[e[18]||(e[18]=o("p",{class:"my-4 text-h6"},"應繳金額",-1)),e[19]||(e[19]=o("p",{class:"my-1"},[o("span",{class:"mr-1"},"NT$"),o("span",{class:"text-h3 font-weight-bold"},"150")],-1)),e[20]||(e[20]=o("p",{class:"my-4 text-h6"},"折抵時數 / 當次折抵",-1)),o("div",ie,[t(u,{type:"button",color:"blue-darken-3",variant:"flat",class:"ma-2 px-4 text-none rounded-pill",height:"40",disabled:!b.value,onClick:e[1]||(e[1]=y=>h(1))},{default:a(()=>[...e[9]||(e[9]=[v(" 1 hr ",-1)])]),_:1},8,["disabled"]),t(u,{type:"button",color:"blue-darken-3",variant:"flat",class:"ma-2 px-4 text-none rounded-pill",height:"40",disabled:!b.value,onClick:e[2]||(e[2]=y=>h(2))},{default:a(()=>[...e[10]||(e[10]=[v(" 2 hr ",-1)])]),_:1},8,["disabled"]),t(u,{type:"button",color:"blue-darken-3",variant:"flat",class:"ma-2 px-4 text-none rounded-pill",height:"40",disabled:!b.value,onClick:e[3]||(e[3]=y=>h(3))},{default:a(()=>[...e[11]||(e[11]=[v(" 3 hr ",-1)])]),_:1},8,["disabled"])]),o("div",ue,[b.value?(f(),g(u,{key:0,color:"red-darken-1",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:L},{default:a(()=>[...e[12]||(e[12]=[v(" 折抵 ",-1)])]),_:1})):(f(),g(u,{key:1,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:D},{default:a(()=>[...e[13]||(e[13]=[v(" 回上一頁 ",-1)])]),_:1}))]),t(R,{variant:"flat",class:"my-2 pa-3 rounded-lg bg-grey-lighten-4 w-100"},{default:a(()=>[t(S,{dense:""},{default:a(()=>[t(w,{cols:"8",class:"text-grey-darken-1"},{default:a(()=>[...e[14]||(e[14]=[v(" 花園咖啡廳 ",-1)])]),_:1}),t(w,{cols:"4",class:"text-grey-darken-1"},{default:a(()=>[...e[15]||(e[15]=[v(" 2 hr ",-1)])]),_:1}),t(w,{cols:"8",class:"text-grey-darken-1"},{default:a(()=>[...e[16]||(e[16]=[v(" 民歌西餐廳 ",-1)])]),_:1}),t(w,{cols:"4",class:"text-grey-darken-1"},{default:a(()=>[...e[17]||(e[17]=[v(" 2 hr ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1}),t(E,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=y=>d.value=y),message:x.value,messageTitle:V.value,isConfirmBtn:$.value,onPromptConfirm:c,onOnClose:l},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},ce={id:"checkin",class:"h-100"},me={class:"d-flex justify-end w-100"},fe={class:"w-25 w-sm-auto text-center"},ve={class:"mt-3 ga-2 d-flex justify-md-end flex-nowrap"},pe={class:"d-flex justify-space-between w-100"},ge={class:"pl-4 pt-2 mt-2 mr-1 rounded-te-xl bg-blue-darken-3 text-subtitle-1",style:{height:"40px"}},_e={class:"d-flex flex-column flex-md-row flex-lg-row justify-start",style:{"line-height":"1.4"}},he={class:"text-body-2 text-no-wrap w-100 w-md-50"},xe={class:"text-body-2 text-no-wrap w-100 w-md-50"},be={__name:"SearchForm",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(q,{emit:B}){const j=B,r="https://peterhsj.github.io/RentalDemo",d=s(!1),V=s(""),x=s(""),$=s(!1),T=s(),m=s({startDateRule:"",endDate:""}),F=s({startDateRule:[c=>!!c||"請選擇起始日期",c=>{if(!c||!m.value.endDate)return!0;const l=new Date(c),i=new Date(m.value.endDate);return!l||!i?!0:!oe(l,i)||"起始日期不能晚於結束日期"}],endDateRule:[c=>!!c||"請選擇結束日期",c=>{if(!c||!m.value.startDate)return!0;const l=new Date(m.value.startDate),i=new Date(c);return!l||!i?!0:!le(i,l)||"結束日期不能早於起始日期"}]}),b=s([{id:"p01",carNumber:"AXN-1234",account:"Frank01",startDate:"2025-10-01",shop:"松鶴餐廳",hour:"1"},{id:"p02",carNumber:"HBO-1234",account:"Frank02",startDate:"2025-10-01",shop:"花園咖啡廳",hour:"1"},{id:"p01",carNumber:"MOMO-123",account:"Peter01",startDate:"2025-10-01",shop:"松鶴餐廳",hour:"2"},{id:"p02",carNumber:"USB-1234",account:"Peter02",startDate:"2025-10-01",shop:"花園咖啡廳",hour:"2"}]),_=s([]);s([{id:"p01",type:"counter",rvDate:"2025-10-01",carNumber:"ABC-1234",phoneNumber:"0912345678",startDate:"2025-10-09",endDate:"2025-10-10"}]);const P=async()=>{const{valid:c}=await T.value.validate();if(!c)return;const{startDate:l,endDate:i}=m.value;console.log("送出表單",l,i),_.value=b.value},h=()=>{j("closeForm")},L=()=>{d.value=!1},D=()=>{d.value=!1};return(c,l)=>{const i=n("v-avatar"),e=n("v-col"),N=n("v-date-input"),u=n("v-btn"),U=n("v-img"),w=n("v-row"),S=n("v-form"),A=n("v-container"),R=n("v-list-item"),M=n("v-list"),y=n("v-card");return f(),z("div",ce,[t(y,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:a(()=>[o("div",{class:"px-4 py-3 d-flex align-center rental__header bg-orange-lighten-5",onClick:h},[t(i,{image:`${C(r)}/images/profile.svg`,size:"30"},null,8,["image"]),l[3]||(l[3]=o("span",{class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"}," 松鶴餐廳 [ John Doe ] ",-1))]),t(A,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:a(()=>[t(S,{ref_key:"searchFormRef",ref:T},{default:a(()=>[t(w,{dense:"",class:"flex-0-1"},{default:a(()=>[t(e,{cols:"12"},{default:a(()=>[...l[4]||(l[4]=[o("p",{class:"mt-1 mb-2 text-h6 text-blue-darken-3 text-center text-md-left"}," 折抵記錄查詢 ",-1)])]),_:1}),t(e,{cols:"12",md:"4"},{default:a(()=>[t(N,{modelValue:m.value.startDate,"onUpdate:modelValue":l[0]||(l[0]=p=>m.value.startDate=p),rules:F.value.startDateRule,"display-format":C(H),"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"起：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format"])]),_:1}),t(e,{cols:"12",md:"4"},{default:a(()=>[t(N,{modelValue:m.value.endDate,"onUpdate:modelValue":l[1]||(l[1]=p=>m.value.endDate=p),rules:F.value.endDateRule,"display-format":C(H),"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"迄：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format"])]),_:1}),t(e,{cols:"12"},{default:a(()=>[o("div",me,[t(u,{color:"blue-darken-2",variant:"flat",class:"px-8 w-75 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:J(P,["prevent"])},{default:a(()=>[...l[5]||(l[5]=[v(" 查詢 ",-1)])]),_:1}),o("div",fe,[t(u,{color:"blue-darken-2",variant:"text",class:"px-2",height:"40"},{default:a(()=>[t(U,{height:"30",width:"35",src:`${C(r)}/images/ktorrent.svg`,cover:"",alt:"icon"},null,8,["src"])]),_:1})])])]),_:1})]),_:1})]),_:1},512),_.value.length>0?(f(),g(A,{key:0,class:"px-0 py-1"},{default:a(()=>[t(w,{"no-gutters":""},{default:a(()=>[t(e,{cols:"12"},{default:a(()=>[o("div",ve,[t(u,{color:"grey-lighten-1",variant:"flat",class:"my-2 px-8 text-h6 font-weight-regular text-white flex-1-1 flex-md-0-0",height:"40",onClick:h},{default:a(()=>[...l[6]||(l[6]=[v(" 全部 ",-1)])]),_:1}),t(u,{color:"grey-lighten-1",variant:"flat",class:"my-2 px-8 text-h6 font-weight-regular text-white flex-1-1 flex-md-0-0",height:"40",onClick:h},{default:a(()=>[...l[7]||(l[7]=[v(" 折抵 ",-1)])]),_:1}),t(u,{color:"grey-lighten-1",variant:"flat",class:"my-2 px-8 text-h6 font-weight-regular text-white flex-1-1 flex-md-0-0",height:"40",onClick:h},{default:a(()=>[...l[8]||(l[8]=[v(" 儲值 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})):k("",!0),_.value.length>0?(f(),g(y,{key:1,variant:"flat",class:"bg-white flex-grow-1 overflow-y-auto"},{default:a(()=>[t(M,null,{default:a(()=>[(f(!0),z(X,null,Q(_.value,p=>(f(),g(R,{class:"pa-0 border",key:p.id},{default:a(()=>[o("div",pe,[t(w,{"no-gutters":"",class:"align-center flex-grow-1"},{default:a(()=>[t(e,{cols:"4",md:"3"},{default:a(()=>[o("div",ge,O(p.carNumber),1)]),_:2},1024),t(e,{cols:"2",md:"4",class:"pl-2 text-no-wrap"},{default:a(()=>[v(" -"+O(p.hour)+" 小時 ",1)]),_:2},1024),t(e,{cols:"5",md:"5",class:"pl-2 text-subtitle-1 text-grey-darken-2"},{default:a(()=>[o("div",_e,[o("div",he,O(p.startDate),1),o("div",xe,O(p.shop)+" "+O(p.account),1)])]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1}),t(E,{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=p=>d.value=p),message:x.value,messageTitle:V.value,isConfirmBtn:$.value,onPromptConfirm:L,onOnClose:D},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},we={id:"shopView",class:"d-flex flex-column bg-grey-lighten-4 h-100"},ye={class:"pt-2 d-flex align-center"},ke={__name:"ShopView",setup(q){const B="https://peterhsj.github.io/RentalDemo",j=K(),r=s({}),d=s(!1),V=s(!1),x=s(!1),$=s(""),T=s(""),m=s(!1),F=c=>{r.value=c,d.value=!0,console.log("tab",r)},b=()=>{r.value={},d.value=!1},_=()=>{r.value={},d.value=!1,j.push("/ShopLogin")},P=()=>{r.value={},d.value=!1},h=()=>{x.value=!1},L=()=>{x.value=!1},D=()=>{V.value=window.innerWidth<=960};return I(()=>{D(),window.addEventListener("resize",D)}),W(()=>{window.removeEventListener("resize",D)}),(c,l)=>{const i=n("v-img"),e=n("v-avatar"),N=n("v-card"),u=n("v-container");return f(),z("div",we,[Z(t(u,{class:"pb-1 rental rental__wrapper"},{default:a(()=>[t(N,{variant:"elevated",elevation:"4",class:"pa-2"},{default:a(()=>[t(i,{color:"surface-variant",height:"200",width:"100%",src:`${C(B)}/images/hotel_01.png`,cover:"",alt:"Shop Image"},{default:a(()=>[...l[1]||(l[1]=[o("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},"商店消費停車折抵",-1)])]),_:1},8,["src"]),o("div",ye,[t(e,{image:`${C(B)}/images/profile.svg`,size:"30"},null,8,["image"]),l[2]||(l[2]=o("span",{class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"}," 松鶴餐廳 John Doe 您好！ ",-1))])]),_:1}),d.value?k("",!0):(f(),g(Y,{key:0,tabList:C(ee),onSetActiveTab:F},null,8,["tabList"]))]),_:1},512),[[G,!V.value||!d.value]]),r.value.value==="parkingDeduction"?(f(),g(u,{key:0,id:"parkingDeduction",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:a(()=>[t(de,{activeTab:r.value,onCloseForm:b},null,8,["activeTab"])]),_:1})):k("",!0),r.value.value==="search"?(f(),g(u,{key:1,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:a(()=>[t(be,{activeTab:r.value,onCloseForm:b},null,8,["activeTab"])]),_:1})):k("",!0),r.value.value==="logout"?(f(),g(u,{key:2,id:"logout",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:a(()=>[t(te,{activeTab:r.value,onOnLogin:_},null,8,["activeTab"])]),_:1})):k("",!0),r.value.value==="changePassword"?(f(),g(u,{key:3,id:"changePassword",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:a(()=>[t(ae,{activeTab:r.value,onOnClose:P},null,8,["activeTab"])]),_:1})):k("",!0),t(E,{modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=U=>x.value=U),message:T.value,messageTitle:$.value,isConfirmBtn:m.value,onPromptConfirm:h,onOnClose:L},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Fe=se(ke,[["__scopeId","data-v-33aa88cb"]]);export{Fe as default};
