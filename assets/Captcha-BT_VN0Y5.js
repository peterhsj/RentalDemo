import{o as b,p as S}from"./index-Dzbugahw.js";import{l as M,a9 as u,aa as h,ab as w,af as P,H as V,ad as $,v as A,k as _}from"./vue-core-BRXIlfIm.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E=M({__name:"CommonOverlay",props:{overlay:{type:Boolean,default:!1}},setup(f){const r=f;return(m,c)=>(h(),u(b,{class:"align-center justify-center","model-value":r.overlay,transition:"fade-transition"},{default:w(()=>[r.overlay?(h(),u(S,{key:0,color:"teal-darken-2",indeterminate:"",size:"60",width:"8"})):P("",!0)]),_:1},8,["model-value"]))}}),T={class:"captcha-wrapper"},o=120,n=38,v="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",H=M({__name:"Captcha",emits:["set-captcha-code"],setup(f,{emit:r}){const m=r,c=_(null),s=_("");function C(){let a="";for(let t=0;t<4;t++)a+=v.charAt(Math.floor(Math.random()*v.length));return a}function l(a,t){const i=Math.floor(Math.random()*(t-a+1)+a),e=Math.floor(Math.random()*(t-a+1)+a),d=Math.floor(Math.random()*(t-a+1)+a);return`rgb(${i}, ${e}, ${d})`}function y(){const a=c.value;if(!a)return;const t=a.getContext("2d");if(!t)return;t.clearRect(0,0,o,n),t.fillStyle="#f0f0f0",t.fillRect(0,0,o,n),s.value=C();for(let e=0;e<3;e++)t.strokeStyle=l(100,200),t.lineWidth=1,t.beginPath(),t.moveTo(Math.random()*o,Math.random()*n),t.lineTo(Math.random()*o,Math.random()*n),t.stroke();for(let e=0;e<30;e++)t.fillStyle=l(150,200),t.beginPath(),t.arc(Math.random()*o,Math.random()*n,1,0,2*Math.PI),t.fill();const i=s.value;for(const[e,d]of Array.from(i).entries()){const g=15+e*24,k=22+Math.random()*6-3,x=(Math.random()-.5)*.4,B=20+Math.random()*4;t.save(),t.translate(g,k),t.rotate(x),t.font=`bold ${B}px Arial`,t.fillStyle=l(20,100),t.textBaseline="middle",t.fillText(d,0,0),t.restore()}}function p(){y(),m("set-captcha-code",s.value)}return V(()=>{p()}),(a,t)=>(h(),$("div",T,[A("canvas",{ref_key:"captchaCanvas",ref:c,height:n,width:o,onClick:p},null,512)]))}}),I=R(H,[["__scopeId","data-v-6d355665"]]);export{I as _,E as a};
