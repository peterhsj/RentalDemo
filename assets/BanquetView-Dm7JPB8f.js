import{h as s,H as J,a5 as u,ac as S,a7 as i,n as t,ad as a,v as o,u as h,V as M,a6 as v,af as m,F as X,ae as ee,x as te,Z as O,a2 as ae,a0 as le,P as oe,Q as se,ag as ne}from"./vue-core-BOLQPpeJ.js";import{_ as W,a as re,b as ie}from"./PromptDialog-u5wAjMe6.js";import{f as H,_ as de,C as ue}from"./ChangePassword-DCCiX10h.js";import{i as ce,e as ve}from"./date-DE_Uv9Lq.js";import{_ as me}from"./SearchForm-C4TNCSWv.js";import{_ as fe}from"./index-hirNJw8N.js";import"./vuetify-B9nufYXq.js";const pe={id:"checkin",class:"h-100"},ge={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},_e={class:"mx-4"},he={class:"my-2"},we={class:"py-1 text-h6 font-weight-regular"},be={class:"text-h6 font-weight-regular"},xe={class:"ma-6 d-flex flex-column align-center justify-center"},Ce={class:"mt-3 d-flex flex-wrap justify-end w-100"},ye={__name:"QrCode",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(E,{emit:T}){const R=E,d=T,f="https://peterhsj.github.io/RentalDemo",w=s(!1),x=s(""),L=s(""),Q=s(!1),c=s(""),k=s([]),D=s(),r=s({title:"",startDate:"",endDate:""}),V=s({phoneRules:[l=>!!l||"手機號碼為必填",l=>/^\d{10}$/.test(l)||"請輸入有效的手機號碼"],carRules:[l=>!!l||"車號為必填"],startDateRule:[l=>!!l||"請選擇起始日期",l=>{if(!l||!r.value.endDate)return!0;const e=new Date(l),g=new Date(r.value.endDate);return!e||!g?!0:!ve(e,g)||"起始日期不能晚於結束日期"}],endDateRule:[l=>!!l||"請選擇結束日期",l=>{if(!l||!r.value.startDate)return!0;const e=new Date(r.value.startDate),g=new Date(l);return!e||!g?!0:!ce(g,e)||"結束日期不能早於起始日期"}]}),$=s([{id:"p01",value:1,title:"1 小時"},{id:"p02",value:2,title:"2 小時"},{id:"p01",value:3,title:"3 小時"},{id:"p02",value:4,title:"4 小時"}]),F=s([{id:"p01",disabled:!1,startDate:"2025-10-01",title:"王林府喜宴"},{id:"p02",disabled:!1,startDate:"2025-10-01",title:"AIT 餐會"},{id:"p01",disabled:!0,startDate:"2025-10-01",title:"YMCA 餐會"},{id:"p02",disabled:!1,startDate:"2025-10-01",title:"林王府喜宴"}]),C=s({}),q=()=>{k.value=F.value,c.value="showList"};J(()=>{q()});const p=l=>{C.value=l,c.value="showQRCode",console.log("currentItem",C.value)},U=()=>{c.value="addQrCode"},P=async()=>{const{valid:l}=await D.value.validate();if(!l)return;const{title:e,startDate:g,endDate:B,time:y}=r.value;console.log("送出表單",r.value)},j=()=>{d("closeForm")},b=()=>{w.value=!1,delParkingConfirm()},I=()=>{w.value=!1};return(l,e)=>{const g=u("v-icon"),B=u("v-img"),y=u("v-card"),_=u("v-col"),z=u("v-row"),Y=u("v-text-field"),N=u("v-date-input"),Z=u("v-select"),G=u("v-form"),A=u("v-btn"),K=u("v-container");return i(),S("div",pe,[t(y,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:a(()=>[o("div",{class:"px-4 py-3 d-flex align-center rental__header rental__bg--light-orange",onClick:j},[t(g,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),o("span",null,[t(B,{height:"30",width:"35",src:`${h(f)}${R.activeTab.icon}`,cover:"",alt:"icon"},null,8,["src"])]),o("span",ge,M(c.value==="showList"||c.value==="showQRCode"?R.activeTab.title:"產出 QRCode"),1)]),t(K,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:a(()=>[c.value==="showList"?(i(),v(y,{key:0,variant:"flat",class:"mt-5 pa-2 rounded-lg flex-grow-1 overflow-y-auto"},{default:a(()=>[k.value.length>0?(i(),v(z,{key:0},{default:a(()=>[(i(!0),S(X,null,ee(k.value,n=>(i(),v(_,{cols:"12",sm:"6",md:"3",key:n.id},{default:a(()=>[t(y,{variant:"flat",class:te(["pa-2 rounded-lg bg-light-green-darken-1 text-white mb-4 d-flex flex-row align-center",{"opacity-50":n.disabled}]),link:"",disabled:n.disabled,onClick:Te=>p(n)},{default:a(()=>[o("div",_e,[t(B,{height:"30",width:"35",cover:"",alt:"icon",src:`${h(f)}/images/qrcode.svg`},null,8,["src"])]),o("div",he,[o("p",we,M(n.startDate),1),o("p",be,M(n.title),1)])]),_:2},1032,["class","disabled","onClick"])]),_:2},1024))),128))]),_:1})):m("",!0)]),_:1})):m("",!0),c.value==="showQRCode"?(i(),v(y,{key:1,variant:"flat",class:"mt-5 pa-2 rounded-lg flex-grow-1 overflow-y-auto"},{default:a(()=>[o("div",xe,[o("span",null,[t(B,{height:"200",width:"200",color:"black",cover:"",alt:"icon",src:`${h(f)}/images/qrcode.svg`},null,8,["src"])]),e[6]||(e[6]=o("div",{class:"my-6 d-flex flex-column align-center justify-center"},[o("p",{class:"py-6 text-h5 font-weight-bold"}," 王林府喜宴 "),o("p",{class:"text-h5 font-weight-bold"}," 有效日期 "),o("p",{class:"text-h5 font-weight-regular"}," 2025-10-01 23:30 "),o("p",{class:"py-6 text-h5 font-weight-bold"}," 折抵小時數 3 ")],-1))])]),_:1})):m("",!0),c.value==="addQrCode"?(i(),v(y,{key:2,variant:"flat",class:"mt-5 pa-2 rounded-lg flex-grow-1 overflow-y-auto"},{default:a(()=>[t(G,{ref_key:"qrCodeFormRef",ref:D},{default:a(()=>[t(z,{dense:"",class:"flex-0-1"},{default:a(()=>[t(_,{cols:"12"},{default:a(()=>[...e[7]||(e[7]=[o("p",{class:"mt-1 mb-2 text-h6 text-grey-darken-1"}," 宴會名稱： ",-1)])]),_:1}),t(_,{cols:"12",md:"4"},{default:a(()=>[t(Y,{modelValue:r.value.title,"onUpdate:modelValue":e[0]||(e[0]=n=>r.value.title=n),placeholder:"請輸入宴會名稱",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:V.value.titleRules,required:""},null,8,["modelValue","rules"])]),_:1}),t(_,{cols:"12"},{default:a(()=>[...e[8]||(e[8]=[o("p",{class:"mt-1 mb-2 text-h6 text-grey-darken-1"}," 有效日期及時間： ",-1)])]),_:1}),t(_,{cols:"12",md:"4"},{default:a(()=>[t(N,{modelValue:r.value.startDate,"onUpdate:modelValue":e[1]||(e[1]=n=>r.value.startDate=n),rules:V.value.startDateRule,"display-format":h(H),"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"起：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format"])]),_:1}),t(_,{cols:"12",md:"4"},{default:a(()=>[t(N,{modelValue:r.value.endDate,"onUpdate:modelValue":e[2]||(e[2]=n=>r.value.endDate=n),rules:V.value.endDateRule,"display-format":h(H),"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"迄：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format"])]),_:1}),t(_,{cols:"12",md:"4"},{default:a(()=>[t(Z,{modelValue:r.value.hours,"onUpdate:modelValue":e[3]||(e[3]=n=>r.value.hours=n),items:$.value,placeholder:"請選擇時間","item-title":"title","item-value":"value","`":"",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1},512)]),_:1})):m("",!0),t(z,{"no-gutters":"",class:"flex-0-1"},{default:a(()=>[t(_,{cols:"12"},{default:a(()=>[o("div",Ce,[c.value==="showList"?(i(),v(A,{key:0,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:U},{default:a(()=>[...e[9]||(e[9]=[O(" 新增折抵 QRCode ",-1)])]),_:1})):m("",!0),c.value==="showQRCode"?(i(),v(A,{key:1,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:e[4]||(e[4]=n=>c.value="showList")},{default:a(()=>[...e[10]||(e[10]=[O(" 回選單 ",-1)])]),_:1})):m("",!0),c.value==="addQrCode"?(i(),v(A,{key:2,color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:ae(P,["prevent"])},{default:a(()=>[...e[11]||(e[11]=[O(" 產出 QRCode ",-1)])]),_:1})):m("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),t(W,{modelValue:w.value,"onUpdate:modelValue":e[5]||(e[5]=n=>w.value=n),message:L.value,messageTitle:x.value,isConfirmBtn:Q.value,onPromptConfirm:b,onOnClose:I},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},ke={id:"banquet",class:"d-flex flex-column bg-grey-lighten-4 h-100"},De={class:"pt-2 d-flex align-center"},Ve={__name:"BanquetView",setup(E){const T="https://peterhsj.github.io/RentalDemo",R=ne(),d=s({}),f=s(!1),w=s(!1),x=s(!1),L=s(""),Q=s(""),c=s(!1),k=q=>{d.value=q,f.value=!0,console.log("tab",d)},D=()=>{d.value={},f.value=!1},r=()=>{d.value={},f.value=!1,R.push("/ShopLogin")},V=()=>{d.value={},f.value=!1},$=()=>{x.value=!1},F=()=>{x.value=!1},C=()=>{w.value=window.innerWidth<=960};return J(()=>{C(),window.addEventListener("resize",C)}),le(()=>{window.removeEventListener("resize",C)}),(q,p)=>{const U=u("v-img"),P=u("v-avatar"),j=u("v-card"),b=u("v-container");return i(),S("div",ke,[oe(t(b,{class:"pb-1 rental rental__wrapper"},{default:a(()=>[t(j,{variant:"elevated",elevation:"4",class:"pa-2"},{default:a(()=>[t(U,{color:"surface-variant",height:"200",width:"100%",src:`${h(T)}/images/hotel_01.png`,cover:"",alt:"Banquet Image"},{default:a(()=>[...p[1]||(p[1]=[o("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},"宴會廳自助折抵",-1)])]),_:1},8,["src"]),o("div",De,[t(P,{image:`${h(T)}/images/profile.svg`,size:"30"},null,8,["image"]),p[2]||(p[2]=o("span",{class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"}," 松鶴餐廳 John Doe 您好！ ",-1))])]),_:1}),f.value?m("",!0):(i(),v(re,{key:0,tabList:h(ie),onSetActiveTab:k},null,8,["tabList"]))]),_:1},512),[[se,!w.value||!f.value]]),d.value.value==="qrCode"?(i(),v(b,{key:0,id:"qrCode",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:a(()=>[t(ye,{activeTab:d.value,onCloseForm:D},null,8,["activeTab"])]),_:1})):m("",!0),d.value.value==="search"?(i(),v(b,{key:1,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:a(()=>[t(me,{activeTab:d.value,onCloseForm:D},null,8,["activeTab"])]),_:1})):m("",!0),d.value.value==="logout"?(i(),v(b,{key:2,id:"logout",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:a(()=>[t(de,{activeTab:d.value,onOnLogin:r},null,8,["activeTab"])]),_:1})):m("",!0),d.value.value==="changePassword"?(i(),v(b,{key:3,id:"changePassword",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:a(()=>[t(ue,{activeTab:d.value,onOnClose:V},null,8,["activeTab"])]),_:1})):m("",!0),t(W,{modelValue:x.value,"onUpdate:modelValue":p[0]||(p[0]=I=>x.value=I),message:Q.value,messageTitle:L.value,isConfirmBtn:c.value,onPromptConfirm:$,onOnClose:F},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Ue=fe(Ve,[["__scopeId","data-v-ce652b9e"]]);export{Ue as default};
