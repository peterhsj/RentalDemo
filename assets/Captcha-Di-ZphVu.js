import{_ as x}from"./index-Cfw002nn.js";import{h as i,H as b,ac as k,a7 as y,v as S}from"./vue-core-CsbKmrRr.js";const B={class:"captcha-wrapper"},e=120,c=38,f="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",P={__name:"Captcha",emits:["setCaptchaCode"],setup(R,{emit:p}){const m=p,h=i(null),r=i(""),M=()=>{let o="";for(let t=0;t<4;t++)o+=f.charAt(Math.floor(Math.random()*f.length));return o},s=(o,t)=>{const n=Math.floor(Math.random()*(t-o+1)+o),a=Math.floor(Math.random()*(t-o+1)+o),l=Math.floor(Math.random()*(t-o+1)+o);return`rgb(${n}, ${a}, ${l})`},C=()=>{const t=h.value.getContext("2d");t.clearRect(0,0,e,c),t.fillStyle="#f0f0f0",t.fillRect(0,0,e,c),r.value=M();for(let a=0;a<3;a++)t.strokeStyle=s(100,200),t.lineWidth=1,t.beginPath(),t.moveTo(Math.random()*e,Math.random()*c),t.lineTo(Math.random()*e,Math.random()*c),t.stroke();for(let a=0;a<30;a++)t.fillStyle=s(150,200),t.beginPath(),t.arc(Math.random()*e,Math.random()*c,1,0,2*Math.PI),t.fill();const n=r.value;for(let a=0;a<n.length;a++){const l=n[a],v=15+a*24,_=22+Math.random()*6-3,g=(Math.random()-.5)*.4,u=20+Math.random()*4;t.save(),t.translate(v,_),t.rotate(g),t.font=`bold ${u}px Arial`,t.fillStyle=s(20,100),t.textBaseline="middle",t.fillText(l,0,0),t.restore()}},d=()=>{C(),m("setCaptchaCode",r.value)};return b(()=>{d()}),(o,t)=>(y(),k("div",B,[S("canvas",{ref_key:"captchaCanvas",ref:h,width:e,height:c,onClick:d},null,512)]))}},w=x(P,[["__scopeId","data-v-c2a2ab35"]]);export{w as C};
