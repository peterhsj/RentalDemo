import{h as o,a5 as n,ac as M,a7 as h,n as e,ad as t,v as d,u as P,V as k,a6 as R,af as S,a2 as W,Z as $,F as G,ae as K,H as le,a0 as se,P as ne,Q as oe,ah as re}from"./vue-core-CsbKmrRr.js";import{_ as ue,c as de}from"./TabList-C060IOAN.js";import{a as Y}from"./index-BFZgDbVB.js";import{f as N,_ as ie,C as ce}from"./ChangePassword-BVL-1V1a.js";import{_ as X}from"./PromptDialog-TYGxE2y4.js";import{i as ee,e as te}from"./date-DE_Uv9Lq.js";import{_ as ve}from"./index-v91uvhOd.js";import"./vuetify-CHkSyw28.js";const fe={id:"checkin",class:"h-100"},me={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},_e={class:"d-flex flex-wrap justify-end w-100"},pe={class:"d-flex justify-space-between w-100"},ge={class:"mt-3 d-flex flex-wrap justify-end w-100"},he={__name:"CheckinForm",props:{activeTab:{type:Object,default:()=>({})},userID:{type:Number,default:""}},emits:["closeForm"],setup(Z,{emit:z}){const D=Z,g=z,_="https://peterhsj.github.io/RentalDemo",i=o(!1),x=o(""),b=o(""),C=o(!1),U=o(!1),r=o({license_plate:"",reserve_start_date:"",reserve_end_date:"",note:""}),B=o(null),F=o(),V=o({carRules:[l=>!!l||"車號為必填",l=>/^[A-Z0-9]+-[A-Z0-9]+$/.test(l)||"請輸入有效的車號 ( 需包含 - 符號 )"],startDateRule:[l=>!!l||"請選擇起始日期",l=>{if(!l||!r.value.reserve_end_date)return!0;const a=new Date(l),s=new Date(r.value.reserve_end_date);return!a||!s?!0:!te(a,s)||"起始日期不能晚於結束日期"}],endDateRule:[l=>!!l||"請選擇結束日期",l=>{if(!l||!r.value.reserve_start_date)return!0;const a=new Date(r.value.reserve_start_date),s=new Date(l);return!a||!s?!0:!ee(s,a)||"結束日期不能早於起始日期"}]}),m=o([]),A=async()=>{const{valid:l}=await F.value.validate();if(!l)return;const{license_plate:a,reserve_start_date:s,reserve_end_date:p,note:f}=r.value;let v={license_plate:a,reserve_start_date:N(s),reserve_end_date:N(p),note:f};if(m.value.length>0&&m.value.find(I=>I.license_plate===a)){i.value=!0,x.value="無法登記",b.value="本車號已登記，須先刪除原本登記日期後才能再次申請。",C.value=!1;return}m.value.push(v),F.value.reset()},O=l=>{B.value=l,i.value=!0,x.value="刪除登記車號",b.value=`確認刪除 ${l.license_plate} 申請車號？`,C.value=!0},q=()=>{const l=m.value.findIndex(a=>a.id===B.value.id);l!==-1&&m.value.splice(l,1)},y=async()=>{const l={userId:D.userID,reserve:m.value};if(m.value.length===0){g("closeForm");return}U.value=!0;const a="/member/grand_hotel/register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const s=await Y.post(a,l),{returnCode:p,message:f,data:v}=s;p===0?g("closeForm"):p===-1&&(x.value="無法登記",b.value=`${f}`,C.value=!1,i.value=!0)}catch(s){console.log({err:s})}finally{U.value=!1}},u=()=>{i.value=!1,q()},T=()=>{i.value=!1};return(l,a)=>{const s=n("v-icon"),p=n("v-avatar"),f=n("v-text-field"),v=n("v-col"),L=n("v-date-input"),I=n("v-btn"),j=n("v-row"),E=n("v-form"),w=n("v-list-item"),H=n("v-list"),Q=n("v-card"),J=n("v-container");return h(),M("div",fe,[e(Q,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__header bg-orange-lighten-5",onClick:a[0]||(a[0]=c=>g("closeForm"))},[e(s,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(p,{image:`${P(_)}${D.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",me,k(D.activeTab.title),1)]),e(J,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(E,{ref_key:"checkinFormRef",ref:F,onSubmit:W(A,["prevent"])},{default:t(()=>[e(j,{dense:"",class:"flex-0-1"},{default:t(()=>[e(v,{cols:"12",md:"4"},{default:t(()=>[e(f,{modelValue:r.value.license_plate,"onUpdate:modelValue":a[1]||(a[1]=c=>r.value.license_plate=c),rules:V.value.carRules,placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",onInput:a[2]||(a[2]=c=>r.value.license_plate=r.value.license_plate.toUpperCase()),required:""},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"12",md:"4"},{default:t(()=>[e(L,{modelValue:r.value.reserve_start_date,"onUpdate:modelValue":a[3]||(a[3]=c=>r.value.reserve_start_date=c),rules:V.value.startDateRule,"display-format":P(N),min:new Date,"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"起：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format","min"])]),_:1}),e(v,{cols:"12",md:"4"},{default:t(()=>[e(L,{modelValue:r.value.reserve_end_date,"onUpdate:modelValue":a[4]||(a[4]=c=>r.value.reserve_end_date=c),rules:V.value.endDateRule,"display-format":P(N),min:new Date,"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"迄：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format","min"])]),_:1}),e(v,{cols:"12"},{default:t(()=>[d("div",_e,[e(I,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[...a[6]||(a[6]=[$(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),m.value.length>0?(h(),R(Q,{key:0,variant:"outlined",class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto"},{default:t(()=>[e(H,null,{default:t(()=>[(h(!0),M(G,null,K(m.value,c=>(h(),R(w,{class:"py-2",key:c.id},{default:t(()=>[d("div",pe,[e(j,{"no-gutters":"",class:"align-center flex-grow-1"},{default:t(()=>[e(v,{cols:"12",md:"4",class:"text-h5 font-weight-bold text-grey-darken-1"},{default:t(()=>[$(k(c.license_plate),1)]),_:2},1024),e(v,{cols:"12",md:"4",class:"text-subtitle-1 text-blue-darken-3"},{default:t(()=>[$(k(c.reserve_start_date),1)]),_:2},1024),e(v,{cols:"12",md:"4",class:"text-subtitle-1 text-blue-darken-3"},{default:t(()=>[$(k(c.reserve_end_date),1)]),_:2},1024)]),_:2},1024),d("div",null,[e(I,{density:"comfortable",variant:"flat",icon:"fa:fas fa-times-circle",class:"text-red-darken-1",onClick:ae=>O(c)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):S("",!0),e(j,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(v,{cols:"12"},{default:t(()=>[d("div",ge,[e(I,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:y},{default:t(()=>[...a[7]||(a[7]=[$(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(X,{modelValue:i.value,"onUpdate:modelValue":a[5]||(a[5]=c=>i.value=c),message:b.value,messageTitle:x.value,isConfirmBtn:C.value,onPromptConfirm:u,onOnClose:T},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},be={id:"checkin",class:"h-100"},we={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},xe={class:"d-flex flex-wrap justify-end w-100"},ye={class:"d-flex justify-space-between w-100"},ke={class:"mt-3 d-flex flex-wrap justify-end w-100"},Ce={__name:"SelfCheckinForm",props:{activeTab:{type:Object,default:()=>({})},userID:{type:Number,default:""}},emits:["closeForm"],setup(Z,{emit:z}){const D=Z,g=z,_="https://peterhsj.github.io/RentalDemo",i=o(!1),x=o(""),b=o(""),C=o(!1),U=o(!1),r=o({phone:"",reserve_start_date:"",reserve_end_date:"",note:""}),B=o(null),F=o(),V=o({phoneRules:[l=>!!l||"手機號碼為必填",l=>/^\d{10}$/.test(l)||"請輸入有效的手機號碼"],startDateRule:[l=>!!l||"請選擇起始日期",l=>{if(!l||!r.value.reserve_end_date)return!0;const a=new Date(l),s=new Date(r.value.reserve_end_date);return!a||!s?!0:!te(a,s)||"起始日期不能晚於結束日期"}],endDateRule:[l=>!!l||"請選擇結束日期",l=>{if(!l||!r.value.reserve_start_date)return!0;const a=new Date(r.value.reserve_start_date),s=new Date(l);return!a||!s?!0:!ee(s,a)||"結束日期不能早於起始日期"}]}),m=o([]),A=async()=>{const{valid:l}=await F.value.validate();if(!l)return;const{phone:a,reserve_start_date:s,reserve_end_date:p,note:f}=r.value,v={phone:a,reserve_start_date:N(s),reserve_end_date:N(p),note:f};if(m.value.length>0&&m.value.find(I=>I.phone===a)){i.value=!0,x.value="無法登記",b.value=`${returnMsg}`,C.value=!1;return}m.value.push(v),F.value.reset()},O=l=>{B.value=l,i.value=!0,x.value="刪除登記手機號碼",b.value=`確認刪除 ${l.phone} 申請手機號碼？`,C.value=!0},q=()=>{const l=m.value.findIndex(a=>a.id===B.value.id);l!==-1&&m.value.splice(l,1)},y=async()=>{const l={userId:D.userID,reserve:m.value};if(m.value.length===0){g("closeForm");return}U.value=!0;const a="/member/grand_hotel/self_register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const s=await Y.post(a,l),{returnCode:p,message:f,data:v}=s;p===0?g("closeForm"):p===-1&&(i.value=!0,x.value="無法登記",b.value=`${f}`,C.value=!1)}catch(s){console.log({err:s})}finally{U.value=!1}},u=()=>{i.value=!1,q()},T=()=>{i.value=!1};return(l,a)=>{const s=n("v-icon"),p=n("v-avatar"),f=n("v-text-field"),v=n("v-col"),L=n("v-date-input"),I=n("v-btn"),j=n("v-row"),E=n("v-form"),w=n("v-list-item"),H=n("v-list"),Q=n("v-card"),J=n("v-container");return h(),M("div",be,[e(Q,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__header rental__bg--light-blue",onClick:a[0]||(a[0]=c=>g("closeForm"))},[e(s,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(p,{image:`${P(_)}${D.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",we,k(D.activeTab.title),1)]),e(J,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(E,{ref_key:"checkinFormRef",ref:F,onSubmit:W(A,["prevent"])},{default:t(()=>[e(j,{dense:"",class:"flex-0-1"},{default:t(()=>[e(v,{cols:"12",md:"4"},{default:t(()=>[e(f,{modelValue:r.value.phone,"onUpdate:modelValue":a[1]||(a[1]=c=>r.value.phone=c),placeholder:"請輸入登記手機號碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:V.value.phoneRules,required:""},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"12",md:"4"},{default:t(()=>[e(L,{modelValue:r.value.reserve_start_date,"onUpdate:modelValue":a[2]||(a[2]=c=>r.value.reserve_start_date=c),rules:V.value.startDateRule,"display-format":P(N),min:new Date,"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"起：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format","min"])]),_:1}),e(v,{cols:"12",md:"4"},{default:t(()=>[e(L,{modelValue:r.value.reserve_end_date,"onUpdate:modelValue":a[3]||(a[3]=c=>r.value.reserve_end_date=c),rules:V.value.endDateRule,"display-format":P(N),min:new Date,"prepend-icon":"","append-inner-icon":"fa:far fa-calendar-alt",placeholder:"迄：2025-10-01",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white",required:""},null,8,["modelValue","rules","display-format","min"])]),_:1}),e(v,{cols:"12"},{default:t(()=>[d("div",xe,[e(I,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[...a[5]||(a[5]=[$(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),m.value.length>0?(h(),R(Q,{key:0,variant:"outlined",class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto"},{default:t(()=>[e(H,null,{default:t(()=>[(h(!0),M(G,null,K(m.value,c=>(h(),R(w,{class:"py-2",key:c.id},{default:t(()=>[d("div",ye,[e(j,{"no-gutters":"",class:"align-center flex-grow-1"},{default:t(()=>[e(v,{cols:"12",md:"4",class:"text-h5 font-weight-bold text-grey-darken-1"},{default:t(()=>[$(k(c.phone),1)]),_:2},1024),e(v,{cols:"12",md:"4",class:"text-subtitle-1 text-blue-darken-3"},{default:t(()=>[$(k(c.reserve_start_date),1)]),_:2},1024),e(v,{cols:"12",md:"4",class:"text-subtitle-1 text-blue-darken-3"},{default:t(()=>[$(k(c.reserve_end_date),1)]),_:2},1024)]),_:2},1024),d("div",null,[e(I,{density:"comfortable",variant:"flat",icon:"fa:fas fa-times-circle",class:"text-red-darken-1",onClick:ae=>O(c)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):S("",!0),e(j,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(v,{cols:"12"},{default:t(()=>[d("div",ke,[e(I,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:y},{default:t(()=>[...a[6]||(a[6]=[$(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(X,{modelValue:i.value,"onUpdate:modelValue":a[4]||(a[4]=c=>i.value=c),message:b.value,messageTitle:x.value,isConfirmBtn:C.value,onPromptConfirm:u,onOnClose:T},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Ve={id:"search",class:"h-100"},De={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},$e={class:"d-flex flex-wrap justify-end w-100"},Te={class:"d-flex flex-column w-100"},Ie={class:"ml-3 text-amber-darken-3"},Fe={class:"ml-3 text-amber-darken-3"},Re={class:"ml-3 text-amber-darken-3"},Ue={class:"ml-3 text-amber-darken-3"},Be={class:"ml-3 text-amber-darken-3"},je={class:"ml-3 text-amber-darken-3"},Pe={class:"mt-3 d-flex flex-wrap justify-end w-100"},Le={__name:"SearchForm",props:{activeTab:{type:Object,default:()=>({})}},emits:["closeForm"],setup(Z,{emit:z}){const D=Z,g=z,_="https://peterhsj.github.io/RentalDemo",i=o(!1),x=o(""),b=o(""),C=o(!1),U=o(!1),r=o({phone:"",license_plate:""}),B=o(),F=o({phoneRules:[y=>!y||/^\d{10}$/.test(y)||"請輸入有效的手機號碼"],carRules:[y=>!y||/^[A-Z0-9]+-[A-Z0-9]+$/.test(y)||"請輸入有效的車號 ( 需包含 - 符號 )"]}),V=o([]),m=async()=>{const{valid:y}=await B.value.validate();if(!y)return;const{phone:u,license_plate:T}=r.value;if(u===""&&T===""){i.value=!0,x.value="無法登記",b.value="請輸入登記手機號碼或登記車號",C.value=!1;return}const l={phone:u,license_plate:T};U.value=!0;const a="/member/grand_hotel/select_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const s=await Y.post(a,l),{returnCode:p,message:f,data:v}=s;p===0?V.value=v:(i.value=!0,x.value="訊息",b.value=`${f}`,C.value=!1)}catch(s){console.log({err:s})}finally{U.value=!1}},A=()=>{g("closeForm")},O=()=>{i.value=!1},q=()=>{i.value=!1};return(y,u)=>{const T=n("v-icon"),l=n("v-avatar"),a=n("v-text-field"),s=n("v-col"),p=n("v-btn"),f=n("v-row"),v=n("v-form"),L=n("v-list-item"),I=n("v-list"),j=n("v-card"),E=n("v-container");return h(),M("div",Ve,[e(j,{variant:"outlined",class:"rounded-lg bordered border-md bg-white h-100"},{default:t(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__bg--light-blue rental__header",onClick:A},[e(T,{icon:"fa:fas fa-chevron-left",size:"20",color:"grey-darken-1",class:"mr-2"}),e(l,{image:`${P(_)}${D.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",De,k(D.activeTab.title),1)]),e(E,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:t(()=>[e(v,{ref_key:"searchFormRef",ref:B,onSubmit:W(m,["prevent"])},{default:t(()=>[e(f,{dense:"",class:"flex-0-1"},{default:t(()=>[e(s,{cols:"12",md:"4"},{default:t(()=>[e(a,{modelValue:r.value.phone,"onUpdate:modelValue":u[0]||(u[0]=w=>r.value.phone=w),placeholder:"請輸入登記手機號碼",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2",rules:F.value.phoneRules},null,8,["modelValue","rules"])]),_:1}),e(s,{cols:"12",md:"4"},{default:t(()=>[e(a,{modelValue:r.value.license_plate,"onUpdate:modelValue":u[1]||(u[1]=w=>r.value.license_plate=w),placeholder:"請輸入車號",autocomplete:"off",variant:"outlined",density:"compact",color:"blue-darken-2","bg-color":"white","hide-details":"auto",rules:F.value.carRules,onInput:u[2]||(u[2]=w=>r.value.license_plate=r.value.license_plate.toUpperCase())},null,8,["modelValue","rules"])]),_:1}),e(s,{cols:"12"},{default:t(()=>[...u[4]||(u[4]=[d("p",{class:"text-subtitle-2 text-red-darken-1"}," 輸入其中之一即可。 ",-1)])]),_:1}),e(s,{cols:"12"},{default:t(()=>[d("div",$e,[e(p,{type:"submit",color:"light-green-darken-2",variant:"flat",class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40"},{default:t(()=>[...u[5]||(u[5]=[$(" 查詢 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),V.value.length>0?(h(),R(j,{key:0,variant:"outlined",class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto"},{default:t(()=>[e(I,null,{default:t(()=>[(h(!0),M(G,null,K(V.value,w=>(h(),R(L,{class:"py-2",key:w.id},{default:t(()=>[d("div",Te,[e(f,{"no-gutters":"",class:"align-center"},{default:t(()=>[e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[u[6]||(u[6]=d("span",{class:"text-grey-darken-1"},"登記來源",-1)),d("span",Ie,k(w.reserve_type==="2"?"臨櫃":"自助"),1)]),_:2},1024),e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[u[7]||(u[7]=d("span",{class:"text-grey-darken-1"},"登記帳號",-1)),d("span",Fe,k(w.reserve_acc),1)]),_:2},1024),e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold d-flex flex-nowrap"},{default:t(()=>[u[8]||(u[8]=d("div",{class:"text-grey-darken-1 text-no-wrap"},"登記日期",-1)),d("div",Re,k(w.reserve_date),1)]),_:2},1024)]),_:2},1024),e(f,{"no-gutters":"",class:"align-center mt-3"},{default:t(()=>[e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[u[9]||(u[9]=d("span",{class:"text-grey-darken-1"},"車　　號",-1)),d("span",Ue,k(w.license_plate),1)]),_:2},1024),e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[u[10]||(u[10]=d("span",{class:"text-grey-darken-1"},"起　　日",-1)),d("span",Be,k(w.reserve_start_date),1)]),_:2},1024),e(s,{cols:"12",md:"4",class:"rental__text--h4 font-weight-bold"},{default:t(()=>[u[11]||(u[11]=d("span",{class:"text-grey-darken-1"},"迄　　日",-1)),d("span",je,k(w.reserve_end_date),1)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})):S("",!0),e(f,{"no-gutters":"",class:"flex-0-1"},{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[d("div",Pe,[e(p,{color:"blue-darken-3",variant:"flat",class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",height:"40",onClick:A},{default:t(()=>[...u[12]||(u[12]=[$(" 回選單 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(X,{modelValue:i.value,"onUpdate:modelValue":u[3]||(u[3]=w=>i.value=w),message:b.value,messageTitle:x.value,isConfirmBtn:C.value,onPromptConfirm:O,onOnClose:q},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Se={id:"parkingView",class:"d-flex flex-column bg-grey-lighten-4 h-100"},ze={class:"pt-2 d-flex align-center"},Ae={class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"},Ne={__name:"CounterView",setup(Z){const z="https://peterhsj.github.io/RentalDemo",D=re(),g=o(null),_=o({}),i=o(!1),x=o(!1),b=o(!1),C=o(""),U=o(""),r=o(!1),B=T=>{_.value=T,i.value=!0,console.log("tab",_),T.value==="logout"&&F()};function F(){_.value={},i.value=!1,document.cookie="memberInfo=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",D.push("/CounterLogin")}const V=()=>{_.value={},i.value=!1},m=()=>{_.value={},i.value=!1,D.push("/CounterLogin")},A=()=>{_.value={},i.value=!1},O=()=>{b.value=!1},q=()=>{b.value=!1},y=()=>{x.value=window.innerWidth<=960},u=()=>{if(localStorage.getItem("memberInfo"))g.value=JSON.parse(localStorage.getItem("memberInfo")),console.log("memberInfo",g.value);else{D.push("/CounterLogin");return}};return le(()=>{u(),y(),window.addEventListener("resize",y)}),se(()=>{window.removeEventListener("resize",y)}),(T,l)=>{const a=n("v-img"),s=n("v-avatar"),p=n("v-card"),f=n("v-container");return h(),M("div",Se,[ne(e(f,{class:"pb-1 rental rental__wrapper"},{default:t(()=>[e(p,{variant:"elevated",elevation:"4",class:"pa-2"},{default:t(()=>[e(a,{color:"surface-variant",height:"200",width:"100%",src:`${P(z)}/images/hotel_01.png`,cover:"",alt:"Parking Image"},{default:t(()=>[...l[1]||(l[1]=[d("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},[$("住宿車輛"),d("br"),$("預約及臨櫃登記")],-1)])]),_:1},8,["src"]),d("div",ze,[e(s,{image:`${P(z)}/images/profile.svg`,size:"30"},null,8,["image"]),d("span",Ae,k(g.value&&g.value.acc_name)+" 您好！ ",1)])]),_:1}),i.value?S("",!0):(h(),R(ue,{key:0,tabList:P(de),onSetActiveTab:B},null,8,["tabList"]))]),_:1},512),[[oe,!x.value||!i.value]]),_.value.value==="counterCheckIn"?(h(),R(f,{key:0,id:"counterCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(he,{activeTab:_.value,userID:g.value&&g.value.userId,onCloseForm:V},null,8,["activeTab","userID"])]),_:1})):S("",!0),_.value.value==="selfCheckIn"?(h(),R(f,{key:1,id:"selfCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(Ce,{activeTab:_.value,userID:g.value&&g.value.userId,onCloseForm:V},null,8,["activeTab","userID"])]),_:1})):S("",!0),_.value.value==="search"?(h(),R(f,{key:2,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(Le,{activeTab:_.value,onCloseForm:V},null,8,["activeTab"])]),_:1})):S("",!0),_.value.value==="logout"?(h(),R(f,{key:3,id:"logout",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(ie,{activeTab:_.value,onOnLogin:m},null,8,["activeTab"])]),_:1})):S("",!0),_.value.value==="changePassword"?(h(),R(f,{key:4,id:"changePassword",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:t(()=>[e(ce,{activeTab:_.value,userInfo:g.value,onOnClose:A},null,8,["activeTab","userInfo"])]),_:1})):S("",!0),e(X,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=v=>b.value=v),message:U.value,messageTitle:C.value,isConfirmBtn:r.value,onPromptConfirm:O,onOnClose:q},null,8,["modelValue","message","messageTitle","isConfirmBtn"])])}}},Je=ve(Ne,[["__scopeId","data-v-50dfb78d"]]);export{Je as default};
