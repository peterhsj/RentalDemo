import{_ as X,a as Y}from"./index-uTrXmuzQ.js";import{f as z,_ as re,a as ue}from"./Logout.vue_vue_type_script_setup_true_lang-Bb0CN7Mr.js";import{l as J,ad as N,aa as p,n as e,ab as l,v as d,u as D,Y as w,a9 as R,af as P,a5 as G,k as u,a0 as y,F as K,ae as Z,a7 as se,ag as de,H as ie,a3 as ce,S as fe,U as me}from"./vue-core-BRXIlfIm.js";import{g as ee,i as W,d as S,j as te,e as F,f as c,k as Q,h as B,a as A,m as le,n as ae,c as ve}from"./index-kaIYYxbD.js";import{i as ne,e as oe}from"./date-ui-TtEhfnKH.js";import{_ as _e,c as pe}from"./site-CHleE_VG.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vuetify-ui-CxbL1ZWO.js";const he={id:"search",class:"h-100"},be={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},we={class:"d-flex flex-wrap justify-end w-100"},xe={class:"d-flex flex-column w-100"},ye={class:"ml-3 text-amber-darken-3"},ke={class:"ml-3 text-amber-darken-3"},Ce={class:"ml-3 text-amber-darken-3"},Ve={class:"ml-3 text-amber-darken-3"},De={class:"ml-3 text-amber-darken-3"},$e={class:"ml-3 text-amber-darken-3"},Re={class:"mt-3 ml-1 d-flex ga-2 flex-row justify-end w-100"},Ie=J({__name:"CounterSearchForm",props:{activeTab:{default:()=>({})}},emits:["close-form"],setup(O,{emit:L}){const C=O,m=L,v="/RentalDemo/",i=u(!1),b=u(""),g=u(""),x=u(!1),I=u(!1),r=u({phone:"",license_plate:""}),$=u(null),V=u({phoneRules:[h=>!h||/^\d{10}$/.test(h)||"請輸入有效的手機號碼"],carRules:[h=>!/[-]/.test(h)||"車號不需輸入 - 符號"]}),k=u([]);async function f(){const{valid:h}=await $.value?.validate()??{valid:!1};if(!h)return;const{phone:n,license_plate:a}=r.value;if(n===""&&a===""){i.value=!0,b.value="無法登記",g.value="請輸入登記手機號碼或登記車號",x.value=!1;return}const t={phone:n,license_plate:a};I.value=!0;const o="/member/grand_hotel/select_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const _=await Y.post(o,t),{returnCode:s,message:T,data:E}=_;s===0?(k.value=E,$.value?.reset()):(i.value=!0,b.value="訊息",g.value=`${T}`,x.value=!1)}catch(_){console.log({err:_})}finally{I.value=!1}}async function q(){r.value.phone="",r.value.license_plate="",k.value=[]}function j(){m("close-form")}function U(){i.value=!1}function M(){i.value=!1}return(h,n)=>{const a=X;return p(),N("div",he,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:l(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__bg--light-blue rental__header",onClick:j},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(W,{image:`${D(v)}${C.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",be,w(C.activeTab.title),1)]),e(S,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:l(()=>[e(D(te),{ref_key:"searchFormRef",ref:$,onSubmit:G(f,["prevent"])},{default:l(()=>[e(F,{class:"flex-0-1",dense:""},{default:l(()=>[e(c,{cols:"12",md:"4"},{default:l(()=>[e(Q,{modelValue:r.value.phone,"onUpdate:modelValue":n[0]||(n[0]=t=>r.value.phone=t),autocomplete:"off",color:"blue-darken-2",density:"compact",placeholder:"請輸入登記手機號碼",rules:V.value.phoneRules,variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(Q,{modelValue:r.value.license_plate,"onUpdate:modelValue":n[1]||(n[1]=t=>r.value.license_plate=t),autocomplete:"off","bg-color":"white",color:"blue-darken-2",density:"compact","hide-details":"auto",placeholder:"請輸入車號",rules:V.value.carRules,variant:"outlined",onInput:n[2]||(n[2]=t=>r.value.license_plate=r.value.license_plate.toUpperCase())},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:l(()=>[...n[4]||(n[4]=[d("p",{class:"text-subtitle-2 text-red-darken-1"}," 輸入其中之一即可。 ",-1)])]),_:1}),e(c,{cols:"12"},{default:l(()=>[d("div",we,[e(B,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:l(()=>[...n[5]||(n[5]=[y(" 查詢 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),k.value.length>0?(p(),R(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:l(()=>[e(le,null,{default:l(()=>[(p(!0),N(K,null,Z(k.value,(t,o)=>(p(),R(ae,{key:o,class:"py-2"},{default:l(()=>[d("div",xe,[e(F,{class:"align-center","no-gutters":""},{default:l(()=>[e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[n[6]||(n[6]=d("span",{class:"text-grey-darken-1"},"登記來源",-1)),d("span",ye,w(t.reserve_type==="2"?"臨櫃":"自助"),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[n[7]||(n[7]=d("span",{class:"text-grey-darken-1"},"登記帳號",-1)),d("span",ke,w(t.reserve_acc),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold d-flex flex-nowrap",cols:"12",md:"4"},{default:l(()=>[n[8]||(n[8]=d("div",{class:"text-grey-darken-1 text-no-wrap"},"登記日期",-1)),d("div",Ce,w(t.reserve_date),1)]),_:2},1024)]),_:2},1024),e(F,{class:"align-center mt-3","no-gutters":""},{default:l(()=>[e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[n[9]||(n[9]=d("span",{class:"text-grey-darken-1"},"車　　號",-1)),d("span",Ve,w(t.license_plate),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[n[10]||(n[10]=d("span",{class:"text-grey-darken-1"},"起　　日",-1)),d("span",De,w(t.reserve_start_date),1)]),_:2},1024),e(c,{class:"rental__text--h4 font-weight-bold",cols:"12",md:"4"},{default:l(()=>[n[11]||(n[11]=d("span",{class:"text-grey-darken-1"},"迄　　日",-1)),d("span",$e,w(t.reserve_end_date),1)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})):P("",!0),e(F,{class:"flex-0-1","no-gutters":""},{default:l(()=>[e(c,{cols:"12"},{default:l(()=>[d("div",Re,[e(B,{class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",color:"red-darken-1",height:"40",variant:"flat",onClick:q},{default:l(()=>[...n[12]||(n[12]=[y(" 刪除 ",-1)])]),_:1}),e(B,{class:"my-2 px-8 w-50 w-md-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:j},{default:l(()=>[...n[13]||(n[13]=[y(" 回選單 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(a,{modelValue:i.value,"onUpdate:modelValue":n[3]||(n[3]=t=>i.value=t),"is-confirm-btn":x.value,message:g.value,"message-title":b.value,onOnClose:M,onPromptConfirm:U},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Fe={id:"checkin",class:"h-100"},Ue={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},Te={class:"d-flex flex-wrap justify-end w-100"},Pe={class:"d-flex justify-space-between w-100"},Se={class:"mt-3 d-flex flex-wrap justify-end w-100"},Be=J({__name:"SelfCheckinForm",props:{activeTab:{default:()=>({})},userID:{default:0}},emits:["close-form"],setup(O,{emit:L}){const C=O,m=L,v="/RentalDemo/",i=u(!1),b=u(""),g=u(""),x=u(!1),I=u(!1),r=u({phone:"",reserve_start_date:"",reserve_end_date:"",note:""}),$=u(null),V=u(null),k=u({phoneRules:[a=>!!a||"手機號碼為必填",a=>/^\d{10}$/.test(a)||"請輸入有效的手機號碼"],startDateRule:[a=>!!a||"請選擇起始日期",a=>{if(!a||!r.value.reserve_end_date)return!0;const t=new Date(a),o=new Date(r.value.reserve_end_date);return!t||!o?!0:!oe(t,o)||"起始日期不能晚於結束日期"}],endDateRule:[a=>!!a||"請選擇結束日期",a=>{if(!a||!r.value.reserve_start_date)return!0;const t=new Date(r.value.reserve_start_date),o=new Date(a);return!t||!o?!0:!ne(o,t)||"結束日期不能早於起始日期"}]}),f=u([]);async function q(){const{valid:a}=await V.value?.validate()??{valid:!1};if(!a)return;const{phone:t,reserve_start_date:o,reserve_end_date:_,note:s}=r.value,T={phone:t,reserve_start_date:z(o),reserve_end_date:z(_),note:s};if(f.value.length>0&&f.value.find(H=>H.phone===t)){i.value=!0,b.value="無法登記",g.value="重複登記相同手機號碼",x.value=!1;return}f.value.push(T),V.value?.reset()}function j(a){$.value=a,i.value=!0,b.value="刪除登記手機號碼",g.value=`確認刪除 ${a.phone} 申請手機號碼？`,x.value=!0}function U(){const{phone:a}=$.value;if(a){const t=f.value.findIndex(o=>o.phone===a);t!==-1&&f.value.splice(t,1)}}async function M(){const a={userId:C.userID,reserve:f.value};if(f.value.length===0){m("close-form");return}I.value=!0;const t="/member/grand_hotel/self_register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const o=await Y.post(t,a),{returnCode:_,message:s}=o;_===0?m("close-form"):_===-1&&(i.value=!0,b.value="無法登記",g.value=`${s}`,x.value=!1)}catch(o){console.log({err:o})}finally{I.value=!1}}function h(){i.value=!1,U()}function n(){i.value=!1}return(a,t)=>{const o=se("v-date-input"),_=X;return p(),N("div",Fe,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:l(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__header rental__bg--light-blue",onClick:t[0]||(t[0]=s=>m("close-form"))},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(W,{image:`${D(v)}${C.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",Ue,w(C.activeTab.title),1)]),e(S,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:l(()=>[e(D(te),{ref_key:"checkinFormRef",ref:V,onSubmit:G(q,["prevent"])},{default:l(()=>[e(F,{class:"flex-0-1",dense:""},{default:l(()=>[e(c,{cols:"12",md:"4"},{default:l(()=>[e(Q,{modelValue:r.value.phone,"onUpdate:modelValue":t[1]||(t[1]=s=>r.value.phone=s),autocomplete:"off",color:"blue-darken-2",density:"compact",placeholder:"請輸入登記手機號碼",required:"",rules:k.value.phoneRules,variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(o,{modelValue:r.value.reserve_start_date,"onUpdate:modelValue":t[2]||(t[2]=s=>r.value.reserve_start_date=s),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":D(z),min:new Date,placeholder:"起：2026-01-01","prepend-icon":"",required:"",rules:k.value.startDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(o,{modelValue:r.value.reserve_end_date,"onUpdate:modelValue":t[3]||(t[3]=s=>r.value.reserve_end_date=s),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":D(z),min:new Date,placeholder:"迄：2026-01-01","prepend-icon":"",required:"",rules:k.value.endDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12"},{default:l(()=>[d("div",Te,[e(B,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:l(()=>[...t[5]||(t[5]=[y(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),f.value.length>0?(p(),R(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:l(()=>[e(le,null,{default:l(()=>[(p(!0),N(K,null,Z(f.value,s=>(p(),R(ae,{key:s.phone,class:"py-2"},{default:l(()=>[d("div",Pe,[e(F,{class:"align-center flex-grow-1","no-gutters":""},{default:l(()=>[e(c,{class:"text-h5 font-weight-bold text-grey-darken-1",cols:"12",md:"4"},{default:l(()=>[y(w(s.phone),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:l(()=>[y(w(s.reserve_start_date),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:l(()=>[y(w(s.reserve_end_date),1)]),_:2},1024)]),_:2},1024),d("div",null,[e(B,{class:"text-red-darken-1",density:"comfortable",icon:"fa:fas fa-times-circle",variant:"flat",onClick:T=>j(s)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):P("",!0),e(F,{class:"flex-0-1","no-gutters":""},{default:l(()=>[e(c,{cols:"12"},{default:l(()=>[d("div",Se,[e(B,{class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:M},{default:l(()=>[...t[6]||(t[6]=[y(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{modelValue:i.value,"onUpdate:modelValue":t[4]||(t[4]=s=>i.value=s),"is-confirm-btn":x.value,message:g.value,"message-title":b.value,onOnClose:n,onPromptConfirm:h},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Le={id:"checkin",class:"h-100"},je={class:"ml-3 text-h6 font-weight-bold text-grey-darken-2"},ze={class:"d-flex flex-wrap justify-end w-100"},qe={class:"d-flex justify-space-between w-100"},Me={class:"mt-3 d-flex flex-wrap justify-end w-100"},Ne=J({__name:"CheckinForm",props:{activeTab:{default:()=>({})},userID:{default:0}},emits:["close-form"],setup(O,{emit:L}){const C=O,m=L,v="/RentalDemo/",i=u(!1),b=u(""),g=u(""),x=u(!1),I=u(!1),r=u({license_plate:"",reserve_start_date:"",reserve_end_date:"",note:""}),$=u(null),V=u(null),k=u({carRules:[a=>!!a||"車號為必填",a=>!/[-]/.test(a)||"車號不需輸入 - 符號"],startDateRule:[a=>!!a||"請選擇起始日期",a=>{if(!a||!r.value.reserve_end_date)return!0;const t=new Date(a),o=new Date(r.value.reserve_end_date);return!t||!o?!0:!oe(t,o)||"起始日期不能晚於結束日期"}],endDateRule:[a=>!!a||"請選擇結束日期",a=>{if(!a||!r.value.reserve_start_date)return!0;const t=new Date(r.value.reserve_start_date),o=new Date(a);return!t||!o?!0:!ne(o,t)||"結束日期不能早於起始日期"}]}),f=u([]);async function q(){const{valid:a}=await $.value?.validate()??{valid:!1};if(!a)return;const{license_plate:t,reserve_start_date:o,reserve_end_date:_,note:s}=r.value,T={license_plate:t,reserve_start_date:z(o),reserve_end_date:z(_),note:s};if(f.value.length>0&&f.value.find(H=>H.license_plate===t)){i.value=!0,b.value="無法登記",g.value="本車號已登記，須先刪除原本登記日期後才能再次申請。",x.value=!1;return}f.value.push(T),$.value?.reset()}function j(a){V.value=a,i.value=!0,b.value="刪除登記車號",g.value=`確認刪除 ${a.license_plate} 申請車號？`,x.value=!0}function U(){const{license_plate:a}=V.value||{};if(a){const t=f.value.findIndex(o=>o.license_plate===a);t!==-1&&f.value.splice(t,1)}}async function M(){const a={userId:C.userID,reserve:f.value};if(f.value.length===0){m("close-form");return}I.value=!0;const t="/member/grand_hotel/register_counter?bQz0fX8f=4ApR34x2wb2CVTNUfsq3";try{const o=await Y.post(t,a),{returnCode:_,message:s}=o;_===0?m("close-form"):_===-1&&(b.value="無法登記",g.value=`${s}`,x.value=!1,i.value=!0)}catch(o){console.log({err:o})}finally{I.value=!1}}function h(){i.value=!1,U()}function n(){i.value=!1}return(a,t)=>{const o=se("v-date-input"),_=X;return p(),N("div",Le,[e(A,{class:"rounded-lg bordered border-md bg-white h-100",variant:"outlined"},{default:l(()=>[d("div",{class:"px-4 py-3 d-flex align-center rental__header bg-orange-lighten-5",onClick:t[0]||(t[0]=s=>m("close-form"))},[e(ee,{class:"mr-2",color:"grey-darken-1",icon:"fa:fas fa-chevron-left",size:"20"}),e(W,{image:`${D(v)}${C.activeTab.icon}`,size:"40"},null,8,["image"]),d("span",je,w(C.activeTab.title),1)]),e(S,{class:"pb-2 d-flex flex-column justify-space-between",style:{height:"calc(100% - 64px)"}},{default:l(()=>[e(D(te),{ref_key:"checkinFormRef",ref:$,onSubmit:G(q,["prevent"])},{default:l(()=>[e(F,{class:"flex-0-1",dense:""},{default:l(()=>[e(c,{cols:"12",md:"4"},{default:l(()=>[e(Q,{modelValue:r.value.license_plate,"onUpdate:modelValue":t[1]||(t[1]=s=>r.value.license_plate=s),modelModifiers:{trim:!0},autocomplete:"off","bg-color":"white",color:"blue-darken-2",density:"compact",placeholder:"請輸入車號",required:"",rules:k.value.carRules,variant:"outlined",onInput:t[2]||(t[2]=s=>r.value.license_plate=r.value.license_plate.toUpperCase())},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(o,{modelValue:r.value.reserve_start_date,"onUpdate:modelValue":t[3]||(t[3]=s=>r.value.reserve_start_date=s),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":D(z),min:new Date,placeholder:"起：2026-01-01","prepend-icon":"",required:"",rules:k.value.startDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12",md:"4"},{default:l(()=>[e(o,{modelValue:r.value.reserve_end_date,"onUpdate:modelValue":t[4]||(t[4]=s=>r.value.reserve_end_date=s),"append-inner-icon":"fa:far fa-calendar-alt","bg-color":"white",color:"blue-darken-2",density:"compact","display-format":D(z),min:new Date,placeholder:"迄：2026-01-01","prepend-icon":"",required:"",rules:k.value.endDateRule,variant:"outlined"},null,8,["modelValue","display-format","min","rules"])]),_:1}),e(c,{cols:"12"},{default:l(()=>[d("div",ze,[e(B,{class:"px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"light-green-darken-2",height:"40",type:"submit",variant:"flat"},{default:l(()=>[...t[6]||(t[6]=[y(" 登記 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},512),f.value.length>0?(p(),R(A,{key:0,class:"mt-5 pa-2 rounded-lg bordered border-md bg-white flex-grow-1 overflow-y-auto",variant:"outlined"},{default:l(()=>[e(le,null,{default:l(()=>[(p(!0),N(K,null,Z(f.value,s=>(p(),R(ae,{key:s.license_plate,class:"py-2"},{default:l(()=>[d("div",qe,[e(F,{class:"align-center flex-grow-1","no-gutters":""},{default:l(()=>[e(c,{class:"text-h5 font-weight-bold text-grey-darken-1",cols:"12",md:"4"},{default:l(()=>[y(w(s.license_plate),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:l(()=>[y(w(s.reserve_start_date),1)]),_:2},1024),e(c,{class:"text-subtitle-1 text-blue-darken-3",cols:"12",md:"4"},{default:l(()=>[y(w(s.reserve_end_date),1)]),_:2},1024)]),_:2},1024),d("div",null,[e(B,{class:"text-red-darken-1",density:"comfortable",icon:"fa:fas fa-times-circle",variant:"flat",onClick:T=>j(s)},null,8,["onClick"])])])]),_:2},1024))),128))]),_:1})]),_:1})):P("",!0),e(F,{class:"flex-0-1","no-gutters":""},{default:l(()=>[e(c,{cols:"12"},{default:l(()=>[d("div",Me,[e(B,{class:"my-2 px-8 w-100 w-sm-auto rounded-lg text-h6 font-weight-regular",color:"blue-darken-3",height:"40",variant:"flat",onClick:M},{default:l(()=>[...t[7]||(t[7]=[y(" 完成離開 ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{modelValue:i.value,"onUpdate:modelValue":t[5]||(t[5]=s=>i.value=s),"is-confirm-btn":x.value,message:g.value,"message-title":b.value,onOnClose:n,onPromptConfirm:h},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),Ae={id:"parkingView",class:"d-flex flex-column bg-grey-lighten-4 h-100"},Oe={class:"pt-2 d-flex align-center"},Ee={class:"ml-3 text-subtitle-1 font-weight-bold text-grey-darken-3"},He=J({__name:"counter",setup(O){const L="/RentalDemo/",C=de(),m=u(null),v=u(null),i=u(!1),b=u(!1),g=u(!1),x=u(""),I=u(""),r=u(!1);function $(h){v.value=h,i.value=!0,h.value==="logout"&&(localStorage.removeItem("memberInfo"),m.value=null)}function V(){v.value=null,i.value=!1}function k(){v.value=null,i.value=!1,C.push("/CounterLogin")}function f(){v.value=null,i.value=!1}function q(){g.value=!1}function j(){g.value=!1}function U(){b.value=window.innerWidth<=960}function M(){const h=localStorage.getItem("memberInfo");h?m.value=JSON.parse(h):C.push("/counterLogin")}return ie(()=>{M(),U(),window.addEventListener("resize",U)}),ce(()=>{window.removeEventListener("resize",U)}),(h,n)=>{const a=_e,t=Ne,o=Be,_=Ie,s=re,T=ue,E=X;return p(),N("div",Ae,[fe(e(S,{class:"pb-1 rental rental__wrapper"},{default:l(()=>[e(A,{class:"pa-2",elevation:"4",variant:"elevated"},{default:l(()=>[e(ve,{alt:"Parking Image",color:"surface-variant",cover:"",height:"200",src:`${D(L)}/images/hotel_01.png`,width:"100%"},{default:l(()=>[...n[1]||(n[1]=[d("h1",{class:"ml-6 mt-4 text-h5 font-weight-bold"},[y("住宿車輛"),d("br"),y("預約及臨櫃登記")],-1)])]),_:1},8,["src"]),d("div",Oe,[e(W,{image:`${D(L)}/images/profile.svg`,size:"30"},null,8,["image"]),d("span",Ee,w(m.value&&m.value.acc_name)+" 您好！ ",1)])]),_:1}),i.value?P("",!0):(p(),R(a,{key:0,"tab-list":D(pe),onSetActiveTab:$},null,8,["tab-list"]))]),_:1},512),[[me,!b.value||!i.value]]),v.value?.value==="counterCheckIn"?(p(),R(S,{key:0,id:"counterCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(t,{"active-tab":v.value,"user-id":m.value&&m.value.userId,onCloseForm:V},null,8,["active-tab","user-id"])]),_:1})):P("",!0),v.value?.value==="selfCheckIn"?(p(),R(S,{key:1,id:"selfCheckIn",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(o,{"active-tab":v.value,"user-id":m.value&&m.value.userId,onCloseForm:V},null,8,["active-tab","user-id"])]),_:1})):P("",!0),v.value?.value==="search"?(p(),R(S,{key:2,id:"search",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(_,{"active-tab":v.value,onCloseForm:V},null,8,["active-tab"])]),_:1})):P("",!0),v.value?.value==="logout"?(p(),R(S,{key:3,id:"logout",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(s,{"active-tab":v.value,onOnLogin:k},null,8,["active-tab"])]),_:1})):P("",!0),v.value?.value==="changePassword"&&m.value?(p(),R(S,{key:4,id:"changePassword",class:"rental rental__wrapper flex-grow-1 overflow-y-hidden"},{default:l(()=>[e(T,{"active-tab":v.value,"user-info":m.value,onOnClose:f},null,8,["active-tab","user-info"])]),_:1})):P("",!0),e(E,{modelValue:g.value,"onUpdate:modelValue":n[0]||(n[0]=H=>g.value=H),"is-confirm-btn":r.value,message:I.value,"message-title":x.value,onOnClose:j,onPromptConfirm:q},null,8,["modelValue","is-confirm-btn","message","message-title"])])}}}),et=ge(He,[["__scopeId","data-v-68a0846c"]]);export{et as default};
